<?php  return array (
  'resourceClass' => 'modDocument',
  'resource' => 
  array (
    'id' => 1,
    'type' => 'document',
    'contentType' => 'text/html',
    'pagetitle' => 'Главная',
    'longtitle' => 'Поздравляем!',
    'description' => '',
    'alias' => 'index',
    'link_attributes' => '',
    'published' => 1,
    'pub_date' => 0,
    'unpub_date' => 0,
    'parent' => 0,
    'isfolder' => 0,
    'introtext' => '',
    'content' => '<p>You have successfully installed MODX Revolution [[++settings_version]]!</p>
<p>Now that MODX is installed you can login to the manager to create your templates, manage content and install third party extras to add functionality to your website.</p>
<h2>New to MODX?</h2>
<p>Pages on a MODX site are called <a href="https://rtfm.modx.com/revolution/2.x/making-sites-with-modx/structuring-your-site/resources">Resources</a>, and are visible on the left-hand side of the manager in the Resources tab. Resources can be nested under other resources, making it easy to create a tree of resources. There are different types of resources for different use cases.</p>
<p>Building your website is done through a combination of <strong>Templates</strong>, <strong>Template Variables</strong>, <strong>Chunks</strong>, <strong>Snippets</strong> and <strong>Plugins</strong>. Collectively these are known as <strong>Elements</strong>, and can also be found in the left-hand side of the manager, in the Elements tab.</p>
<p><a href="https://rtfm.modx.com/revolution/2.x/making-sites-with-modx/structuring-your-site/templates">Templates</a> contain the outer markup of any page. Each resource can only be assigned to a single template at a time. By adding <a href="https://rtfm.modx.com/revolution/2.x/making-sites-with-modx/customizing-content/template-variables">Template Variables</a> to a template, you can add custom fields for any resource using that particular template.</p>
<p>With <a href="https://rtfm.modx.com/revolution/2.x/making-sites-with-modx/structuring-your-site/chunks">Chunks</a> you can share parts of the markup, such as a header, across different templates. <a href="https://rtfm.modx.com/revolution/2.x/making-sites-with-modx/structuring-your-site/using-snippets">Snippets</a> are pieces of PHP that return dynamic content, such as summaries of other resources or the current date. With snippets, you will often use Chunks to mark up the pieces of content it returns, instead of mixing the PHP and HTML.</p>
<p>Finally, <a href="https://rtfm.modx.com/revolution/2.x/developing-in-modx/basic-development/plugins">Plugins</a> enable more advanced features by hooking into the extensive events system provided by MODX.</p>
<p>To learn more about MODX, be sure to check out the <a href="https://rtfm.modx.com/revolution/2.x/getting-started">Getting Started</a> section in the official documentation.</p>',
    'richtext' => 1,
    'template' => 1,
    'menuindex' => 0,
    'searchable' => 1,
    'cacheable' => 1,
    'createdby' => 1,
    'createdon' => 1476802364,
    'editedby' => 1,
    'editedon' => 1476833816,
    'deleted' => 0,
    'deletedon' => 0,
    'deletedby' => 0,
    'publishedon' => 0,
    'publishedby' => 0,
    'menutitle' => '',
    'donthit' => 0,
    'privateweb' => 0,
    'privatemgr' => 0,
    'content_dispo' => 0,
    'hidemenu' => 0,
    'class_key' => 'modDocument',
    'context_key' => 'web',
    'content_type' => 1,
    'uri' => '',
    'uri_override' => 0,
    'hide_children_in_tree' => 0,
    'show_in_tree' => 1,
    'properties' => NULL,
    'goods_item--ball' => 
    array (
      0 => 'goods_item--ball',
      1 => '[{"MIGX_id":"1","image":"images/pen1.png","title":"Шариковая ручка Parker IM","params":"цвет - металлик. # S0856480  ","price":"1780 Р"},{"MIGX_id":"2","image":"images/pen2.jpg","title":"Шариковая ручка Parker IM","params":"цвет - черный. # S0856440","price":"1780 Р"}]',
      2 => 'default',
      3 => NULL,
      4 => 'migx',
    ),
    'goods_item--roller' => 
    array (
      0 => 'goods_item--roller',
      1 => '[{"MIGX_id":"1","image":"images/pen3.jpg","title":"Роллерная ручка Parker IM","params":"цвет - металлик, S0856400","price":"2360 Р"},{"MIGX_id":"2","image":"images/pen4.jpg","title":"Роллерная ручка Parker IM","params":"цвет - черный, S0856360","price":"2360 Р"}]',
      2 => 'default',
      3 => NULL,
      4 => 'migx',
    ),
    'goods_item--pero' => 
    array (
      0 => 'goods_item--pero',
      1 => '[{"MIGX_id":"1","image":"images/pen5.jpg","title":"Перьевая ручка Parker IM","params":"цвет – металлик, S0856230","price":"2840 Р"},{"MIGX_id":"2","image":"images/pen6.jpg","title":"Перьевая ручка Parker IM","params":"цвет – черный, S0856190","price":"2840 Р"}]',
      2 => 'default',
      3 => NULL,
      4 => 'migx',
    ),
    'gallery' => 
    array (
      0 => 'gallery',
      1 => '[{"MIGX_id":"1","image":"images\\/testimonials\\/fUUpw5D6AfE.jpg"},{"MIGX_id":"2","image":"images\\/testimonials\\/IMG_1390.PNG"},{"MIGX_id":"3","image":"images\\/testimonials\\/IMG_1391.PNG"},{"MIGX_id":"4","image":"images\\/testimonials\\/IMG_1392.PNG"},{"MIGX_id":"5","image":"images\\/testimonials\\/IMG_1393.PNG"},{"MIGX_id":"7","image":"images\\/testimonials\\/IMG_1394.PNG"},{"MIGX_id":"8","image":"images\\/testimonials\\/n72mqmVfmfE.jpg"},{"MIGX_id":"9","image":"images\\/testimonials\\/QR5M4v5wths.jpg"},{"MIGX_id":"10","image":"images\\/testimonials\\/tmtIJ1CBDzU.jpg"},{"MIGX_id":"11","image":"images\\/testimonials\\/VleNNVpJq4A.jpg"},{"MIGX_id":"12","image":"images\\/testimonials\\/ZB_zVvvaCy0.jpg"}]',
      2 => 'default',
      3 => NULL,
      4 => 'migx',
    ),
    'testimonials' => 
    array (
      0 => 'testimonials',
      1 => '[{"MIGX_id":"1","image":"images\\/gallery\\/-LwmQxYHM1g.jpg"},{"MIGX_id":"2","image":"images\\/gallery\\/06RrHY18id8.jpg"},{"MIGX_id":"3","image":"images\\/gallery\\/1  .jpg"},{"MIGX_id":"4","image":"images\\/gallery\\/10 (2).jpg"},{"MIGX_id":"5","image":"images\\/gallery\\/10.jpg"},{"MIGX_id":"6","image":"images\\/gallery\\/117 (1).jpg"},{"MIGX_id":"7","image":"images\\/gallery\\/16.jpg"}]',
      2 => 'default',
      3 => NULL,
      4 => 'migx',
    ),
    '_content' => '<!DOCTYPE html>
<html>
<head>
	<!-- FRONT-END FROM RUSSIA WITH LOVE -.- SERGEY KHMELEVSKOY -.- -->
	<!-- VISIT http://f-end.ru -->
	<!-- Follow BEM methodology and SMACSS to manage stylesheets -->

	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Главная - MODX Revolution</title>
    <base href="[[!++site_url]]" />

	<link rel="stylesheet" href="css/bootstrap.min.css" type="text/css" />
	<link rel="stylesheet" href="css/owl.carousel.css" type="text/css" />
	<link rel="stylesheet" href="css/hamburgers.min.css" type="text/css" />
	<link rel="stylesheet" href="css/magnific-popup.css" type="text/css" />
	<link rel="stylesheet" href="css/animate.css" type="text/css" />
	<link rel="stylesheet" href="css/style.css" type="text/css" />
	
	<!-- Scripts can be moved to the bottom -->
	<script type="text/javascript" src="js/jquery.min.js"></script>	
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/owl.carousel.min.js"></script>
	<script type="text/javascript" src="js/jquery.magnific-popup.min.js"></script>
	<script type="text/javascript" src="js/jquery.maskedinput.min.js"></script>
	<script type="text/javascript" src="js/wow.min.js"></script>
	<script type="text/javascript" src="js/url.min.js"></script>
	<script type="text/javascript" src="js/main.js"></script>

    <script type="text/javascript">
        (function(_,r,e,t,a,i,l){_[\'retailCRMObject\']=a;_[a]=_[a]||function(){(_[a].q=_[a].q||[]).push(arguments)};_[a].l=1*new Date();l=r.getElementsByTagName(e)[0];i=r.createElement(e);i.async=!0;i.src=t;l.parentNode.insertBefore(i,l)})(window,document,\'script\',\'https://collector.retailcrm.pro/w.js\',\'_rc\');
    
        _rc(\'create\', \'RC-36790603846-2\');
        _rc(\'send\', \'pageView\');
    </script>

	<!--[if lt IE 9]>
    <script src="js/html5shiv.min.js"></script>
    <![endif]-->
</head>

<body>
	<!-- HEADER : START -->
	<header class="header hidden-xs" id="section-hero">
		<div class="container">
			<div class="row">
				<div class="col-sm-3">
					<a href="#">
						<img src="img/logo.svg" class="img-responsive">
					</a>
				</div>
				<div class="col-sm-6 text-center">
					<ul class="header-menu">
						<li><a href="#section-goods">Товары</a></li>
						<li><a href="#section-steps">Доставка<span> и оплата</span></a></li>
						<li><a href="#section-gallery"><span>Наши</span> Работы</a></li>
						<li><a href="#section-testinmonials">Отзывы</a></li>
						<li><a href="#section-order">Заказать</a></li>
					</ul>
				</div>
				<div class="col-sm-3  no-pad-l text-right">
					<i class="ico ico-header-phone"></i>
					<a href="tel:88001424225"><span class="header__phone">8 (800) 142-42-25</span></a>
					<a href="#contact-form" class="popup-with-zoom-anim header__callback">Заказать звонок</a>
				</div>
			</div>
		</div>
	</header>
	<!-- mobile -->
	<div class="header-mobile visible-xs">
		<div class="container">
			<div class="row">
				<div class="col-xs-12">
					<button class="hamburger hamburger--collapse" type="button" id="show-me-menu">
						<span class="hamburger-box">
							<span class="hamburger-inner"></span>
						</span>
					</button>
					<a href="#"><img src="img/logo.svg" class="img-responsive header-mobile__logo" alt=""></a>
					<div class="pull-right">
						<a href="tel:88001424225" class="header-mobile__phone">
						8 (800) 142-42-25
						</a>
					</div>
				</div>

			</div>
		</div>
	</div>
	<section class="mobile-nav">
		<button class="hamburger hamburger--collapse is-active" type="button" id="hide-me-menu">
			<span class="hamburger-box">
				<span class="hamburger-inner"></span>
			</span>
		</button>
		<ul class="main-navi">
			<li><a href="#section-goods">Товары</a></li>
			<li><a href="#section-steps">Доставка<span> и оплата</span></a></li>
			<li><a href="#section-gallery"><span>Наши</span> Работы</a></li>
			<li><a href="#section-testinmonials">Отзывы</a></li>
			<li><a href="#section-order">Заказать</a></li>
		</ul>
		<div class="mobile-nav-contact">
			<div class="header-phone"><a href="tel:88001424225">8 (800) 142-42-25</a></div>
			<div class="header-adress">Бесплатные звонки по всей России</div>
		</div>
	</section>
	<!-- floating -->
	<div class="header--floating hidden-xs">
		<div class="container">
			<div class="row">
				<div class="col-sm-3 col-md-2 no-pad-r header--floating__logo">
					<a href="#">
						<img src="img/logo.svg" class="img-responsive">
					</a>
				</div>
				<div class="col-sm-6 col-md-7 col-lg-6 text-center">
					<ul class="header-menu">
						<li><a href="#section-goods">Товары</a></li>
						<li><a href="#section-steps">Доставка<span> и оплата</span></a></li>
						<li><a href="#section-gallery"><span>Наши</span> Работы</a></li>
						<li><a href="#section-testinmonials">Отзывы</a></li>
						<li><a href="#section-order">Заказать</a></li>
					</ul>
				</div>
				<div class="col-sm-3 col-md-3 col-lg-4 text-right ">
					<a href="#contact-form" class="popup-with-zoom-anim header__callback">Заказать звонок</a>
					<a href="tel:88001424225"><span class="header__phone">8 (800) 142-42-25</span></a>
				</div>
			</div>
		</div>
	</div>
	<!-- HEADER : END -->


	<!-- HERO : START -->
	<section class="hero">
		<div class="container">
			<div class="row">
				<div class="col-sm-6 text-center hero__description">
					<img src="images/parker-logo.svg" class="img-responsive wow fadeInLeft">
					<div class="hero__heading wow slideInLeft" data-wow-delay="1s">
						Персональный подарок<br> с гравировкой
					</div>
					<div class="hero__cta wow fadeInLeft" data-wow-delay="2s">
						<div class="hero__cta__price">
							<span>от 1780р</span>
						</div>
						<a href="#section-goods" class="btn btn--hero wow"><span>Подобрать</span></a>
					</div>
				</div>
				<div class="col-sm-6 hero__image wow fadeInRight">
					<img src="images/hero-pen.png" alt="" class="img-responsive">
				</div>
				<div class="col-sm-12 text-center wow fadeInUp" data-wow-delay="5s">
					<a href="#section-benefits">
						<div class="helper-pulse">
							<i class="ico ico-hero-down"></i>
							<i class="pulse"></i>
						</div>
					</a>
				</div>
			</div>
		</div>
	</section>
	<!-- HERO : END -->

	<!-- BENEFITS : START -->
	<section class="benefits text-center wow fadeInUp" id="section-benefits">
		<div class="container">
			<div class="row">
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-1"></i>
					<div class="benefits__benefit__name">
						Гарантия 24 месяца
					</div>
				</div>
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-2"></i>
					<div class="benefits__benefit__name">
						Прямые поставки от официального дистрибьютора Parker в России
					</div>
				</div>
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-3"></i>
					<div class="benefits__benefit__name">
						Отправка в день заказа
					</div>
				</div>
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-4"></i>
					<div class="benefits__benefit__name">
						Высокие складские остатки
					</div>
				</div>
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-5"></i>
					<div class="benefits__benefit__name">
						Собственное оборудование
					</div>
				</div>
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-6"></i>
					<div class="benefits__benefit__name">
						Штат профессиональных дизайнеров
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- BENEFITS : END -->

	<!-- GOODS : START -->
	<section class="goods" id="section-goods" name="section-goods">
		<div class="heading">
			<div class="container">
				<div class="row">
					<div class="col-sm-12 text-center">
						<span>Товары</span>
					</div>
				</div>
			</div>
		</div>

		<div class="container">
			<div class="row">
				<div class="col-sm-12">
					<div class="goods__tabs">
						<ul>
							<li class="active"><a href="#"><i class="ico ico-tabs-pen-1"></i> ШАРИКОВЫЕ</a></li>
							<li><a href="#"><i class="ico ico-tabs-pen-2"></i>РОЛЛЕРНЫЕ</a></li>
							<li><a href="#"><i class="ico ico-tabs-pen-3"></i>ПЕРЬЕВЫЕ</a></li>
						</ul>
						<span class="goods__tabs__desc">Мы подобрали для Вас самые популярные модели ручек на которых гравировка выглядит особенно хорошо</span>
					</div>
					<div class="goods__tabs__content">
						<div class="goods__content active">
							<div class="row">
								<div class="pen-toggle active">
								<div class="col-sm-4 goods__content__mainpic">
									<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen1.6a4946b2d075009b94db3c2c5d743da4.png" alt="Шариковая ручка Parker IM" class="img-responsive">
								</div>
								<div class="col-sm-4 col-md-5 goods__content__description">
									<div class="goods__content__name wow fadeInLeft" data-wow-delay=".3s">
									    Шариковая ручка Parker IM
									</div>
									<div class="goods__content__attributes wow fadeInLeft" data-wow-delay=".3s">
										цвет - металлик. # S0856480  
									</div>
									<div class="goods__content__price wow fadeInLeft" data-wow-delay=".3s">
										1780 Р
										<span>+250Р (гравировка)</span>
									</div>
									<a href="#order-good-form" data-order="Шариковая ручка Parker IM || цвет - металлик. # S0856480   || 1780 Р" class="btn btn--goods-cta wow fadeInLeft popup-with-zoom-anim" data-wow-delay=".3s"><span>ЗАКАЗАТЬ ЭТУ МОДЕЛЬ</span></a>
								</div>
								</div>								<div class="pen-toggle">
								<div class="col-sm-4 goods__content__mainpic">
									<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen2.7212481526f2377287b71cd54a4b4233.jpg" alt="Шариковая ручка Parker IM" class="img-responsive">
								</div>
								<div class="col-sm-4 col-md-5 goods__content__description">
									<div class="goods__content__name wow fadeInLeft" data-wow-delay=".3s">
									    Шариковая ручка Parker IM
									</div>
									<div class="goods__content__attributes wow fadeInLeft" data-wow-delay=".3s">
										цвет - черный. # S0856440
									</div>
									<div class="goods__content__price wow fadeInLeft" data-wow-delay=".3s">
										1780 Р
										<span>+250Р (гравировка)</span>
									</div>
									<a href="#order-good-form" data-order="Шариковая ручка Parker IM || цвет - черный. # S0856440 || 1780 Р" class="btn btn--goods-cta wow fadeInLeft popup-with-zoom-anim" data-wow-delay=".3s"><span>ЗАКАЗАТЬ ЭТУ МОДЕЛЬ</span></a>
								</div>
								</div>
								<div class="col-sm-4 col-md-3">
									<div class="goods__content__models">
										<div class="goods__content__models__heading">
											выберите модель
										</div>
										<div class="goods__content__models__img-wrap active">
											<a href=""><img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen1.4ccfbc7f7a36f30953100955e16955c8.png" alt="Шариковая ручка Parker IM" class="img-responsive"></a>
										</div>
										<div class="goods__content__models__img-wrap ">
											<a href=""><img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen2.b88917d76b2219f119bc6d6e867576ab.jpg" alt="Шариковая ручка Parker IM" class="img-responsive"></a>
										</div>

									</div>
								</div>
							</div>
						</div>
						<div class="goods__content">
							<div class="row">
								<div class="pen-toggle active">
								<div class="col-sm-4 goods__content__mainpic">
									<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen3.7212481526f2377287b71cd54a4b4233.jpg" alt="Роллерная ручка Parker IM" class="img-responsive">
								</div>
								<div class="col-sm-4 col-md-5 goods__content__description">
									<div class="goods__content__name wow fadeInLeft" data-wow-delay=".3s">
									    Роллерная ручка Parker IM
									</div>
									<div class="goods__content__attributes wow fadeInLeft" data-wow-delay=".3s">
										цвет - металлик, S0856400
									</div>
									<div class="goods__content__price wow fadeInLeft" data-wow-delay=".3s">
										2360 Р
										<span>+250Р (гравировка)</span>
									</div>
									<a href="#order-good-form" data-order="Роллерная ручка Parker IM || цвет - металлик, S0856400 || 2360 Р" class="btn btn--goods-cta wow fadeInLeft popup-with-zoom-anim" data-wow-delay=".3s"><span>ЗАКАЗАТЬ ЭТУ МОДЕЛЬ</span></a>
								</div>
								</div>								<div class="pen-toggle">
								<div class="col-sm-4 goods__content__mainpic">
									<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen4.7212481526f2377287b71cd54a4b4233.jpg" alt="Роллерная ручка Parker IM" class="img-responsive">
								</div>
								<div class="col-sm-4 col-md-5 goods__content__description">
									<div class="goods__content__name wow fadeInLeft" data-wow-delay=".3s">
									    Роллерная ручка Parker IM
									</div>
									<div class="goods__content__attributes wow fadeInLeft" data-wow-delay=".3s">
										цвет - черный, S0856360
									</div>
									<div class="goods__content__price wow fadeInLeft" data-wow-delay=".3s">
										2360 Р
										<span>+250Р (гравировка)</span>
									</div>
									<a href="#order-good-form" data-order="Роллерная ручка Parker IM || цвет - черный, S0856360 || 2360 Р" class="btn btn--goods-cta wow fadeInLeft popup-with-zoom-anim" data-wow-delay=".3s"><span>ЗАКАЗАТЬ ЭТУ МОДЕЛЬ</span></a>
								</div>
								</div>
								<div class="col-sm-3">
									<div class="goods__content__models">
										<div class="goods__content__models__heading">
											выберите модель
										</div>
										<div class="goods__content__models__img-wrap active">
											<a href=""><img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen3.b88917d76b2219f119bc6d6e867576ab.jpg" alt="Роллерная ручка Parker IM" class="img-responsive"></a>
										</div>
										<div class="goods__content__models__img-wrap ">
											<a href=""><img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen4.b88917d76b2219f119bc6d6e867576ab.jpg" alt="Роллерная ручка Parker IM" class="img-responsive"></a>
										</div>

									</div>
								</div>
							</div>
						</div>
						<div class="goods__content">
							<div class="row">
								<div class="pen-toggle active">
								<div class="col-sm-4 goods__content__mainpic">
									<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen5.7212481526f2377287b71cd54a4b4233.jpg" alt="Перьевая ручка Parker IM" class="img-responsive">
								</div>
								<div class="col-sm-4 col-md-5 goods__content__description">
									<div class="goods__content__name wow fadeInLeft" data-wow-delay=".3s">
									    Перьевая ручка Parker IM
									</div>
									<div class="goods__content__attributes wow fadeInLeft" data-wow-delay=".3s">
										цвет – металлик, S0856230
									</div>
									<div class="goods__content__price wow fadeInLeft" data-wow-delay=".3s">
										2840 Р
										<span>+250Р (гравировка)</span>
									</div>
									<a href="#order-good-form" data-order="Перьевая ручка Parker IM || цвет – металлик, S0856230 || 2840 Р" class="btn btn--goods-cta wow fadeInLeft popup-with-zoom-anim" data-wow-delay=".3s"><span>ЗАКАЗАТЬ ЭТУ МОДЕЛЬ</span></a>
								</div>
								</div>								<div class="pen-toggle">
								<div class="col-sm-4 goods__content__mainpic">
									<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen6.7212481526f2377287b71cd54a4b4233.jpg" alt="Перьевая ручка Parker IM" class="img-responsive">
								</div>
								<div class="col-sm-4 col-md-5 goods__content__description">
									<div class="goods__content__name wow fadeInLeft" data-wow-delay=".3s">
									    Перьевая ручка Parker IM
									</div>
									<div class="goods__content__attributes wow fadeInLeft" data-wow-delay=".3s">
										цвет – черный, S0856190
									</div>
									<div class="goods__content__price wow fadeInLeft" data-wow-delay=".3s">
										2840 Р
										<span>+250Р (гравировка)</span>
									</div>
									<a href="#order-good-form" data-order="Перьевая ручка Parker IM || цвет – черный, S0856190 || 2840 Р" class="btn btn--goods-cta wow fadeInLeft popup-with-zoom-anim" data-wow-delay=".3s"><span>ЗАКАЗАТЬ ЭТУ МОДЕЛЬ</span></a>
								</div>
								</div>
								<div class="col-sm-3">
									<div class="goods__content__models">
										<div class="goods__content__models__heading">
											выберите модель
										</div>
										<div class="goods__content__models__img-wrap active">
											<a href=""><img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen5.b88917d76b2219f119bc6d6e867576ab.jpg" alt="Перьевая ручка Parker IM" class="img-responsive"></a>
										</div>
										<div class="goods__content__models__img-wrap ">
											<a href=""><img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen6.b88917d76b2219f119bc6d6e867576ab.jpg" alt="Перьевая ручка Parker IM" class="img-responsive"></a>
										</div>

									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="goods__text">
						<div class="goods__text__collection">
							В коллекции Parker IM проявляется весь опыт Parker по созданию баланса формы и функциональности. Каждая деталь, от стилизованной стрелки до стальной секции захвата, тщательно изучается, при этом лишние детали отбрасываются в пользу повышения комфорта, практичности и лаконичности.
						</div>
						<div class="goods__text__catalog">
							<span>С полным модельным рядом вы можете ознакомиться в нашем интернет магазине</span>
							<a href="#" taget="_blank" class="btn btn--go-catalog">перейти в каталог</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- GOODS : END -->

	<!-- VIDEO : START -->
	<section class="video">
		<div class="container">
			<div class="row">
				<div class="col-sm-8">
					<div class="video__macbook">
						<!--<a href="#" class="video__play"></a>-->
						<div class="video__frame">
						<iframe id="video" width="100%" height="100%" src="https://www.youtube.com/embed/RTRYNXxRjpw" frameborder="0" allowfullscreen></iframe>	
						</div>
					</div>
				</div>
				<div class="col-sm-4">
					<div class="video__desc wow fadeInRight" data-wow-delay="1s">
						Посмотрите видео лазерной гравировки на ручках Parker
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- VIDEO : END -->

	<!-- STEPS : START -->
	<section class="steps" id="section-steps">
		<div class="heading heading--white-bg heading--pen-left">
			<div class="container">
				<div class="row">
					<div class="col-sm-12 text-center">
						<span>Доставка и оплата</span>
					</div>
				</div>
			</div>
		</div>

		<div class="container">
			<div class="row">
				<div class="col-sm-3">
					<div class="steps__step text-center wow fadeInUp" data-wow-delay="0s">
						<div class="steps__step__icon">
							<i class="ico ico-step-1"></i>
							<span class="steps__step__icon__num">1</span>
						</div>
						<div class="steps__step__name">
							Заявка
						</div>
						<div class="steps__step__desc">
							Выбирите ручку и желаемый текст гравировки
						</div>
					</div>
				</div>
				<div class="col-sm-3">
					<div class="steps__step text-center wow fadeInUp" data-wow-delay=".35s">
						<div class="steps__step__icon">
							<i class="ico ico-step-2"></i>
							<span class="steps__step__icon__num">2</span>
						</div>
						<div class="steps__step__name">
							Согласование макета
						</div>
						<div class="steps__step__desc">
							Выбирите ручку и желаемый текст гравировки
						</div>
					</div>
				</div>
				<div class="col-sm-3">
					<div class="steps__step text-center wow fadeInUp" data-wow-delay=".75s">
						<div class="steps__step__icon">
							<i class="ico ico-step-3"></i>
							<span class="steps__step__icon__num">3</span>
						</div>
						<div class="steps__step__name">
							Гравировка
						</div>
						<div class="steps__step__desc">
							Выбирите ручку и желаемый текст гравировки
						</div>
					</div>
				</div>
				<div class="col-sm-3">
					<div class="steps__step text-center last wow fadeInUp" data-wow-delay="1s">
						<div class="steps__step__icon">
							<i class="ico ico-step-4"></i>
							<span class="steps__step__icon__num">4</span>
						</div>
						<div class="steps__step__name">
							Оплата
						</div>
						<div class="steps__step__desc">
							Выбирите ручку и желаемый текст гравировки
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- STEPS : END -->

	<!-- GALLERY : START -->
	<section class="gallery" id="section-gallery">
		<div class="heading">
			<div class="container">
				<div class="row">
					<div class="col-sm-12 text-center">
						<span>Галлерея работ</span>
					</div>
				</div>
			</div>
		</div>

		<div class="container">
			<div class="row">
				<div class="col-sm-10 col-sm-offset-1 wow fadeInUp">
					<div class="owl-carousel popup-gallery" id="owl-gallery">
						<a href="images/gallery/-LwmQxYHM1g.jpg">
							<div class="gallery_item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/-LwmQxYHM1g.d9d35a30b8506b0047d49173ca9fc557.jpg" alt="">
							</div>
						</a>						<a href="images/gallery/06RrHY18id8.jpg">
							<div class="gallery_item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/06RrHY18id8.d9d35a30b8506b0047d49173ca9fc557.jpg" alt="">
							</div>
						</a>						<a href="images/gallery/1  .jpg">
							<div class="gallery_item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/1%20%20.d9d35a30b8506b0047d49173ca9fc557.jpg" alt="">
							</div>
						</a>						<a href="images/gallery/10 (2).jpg">
							<div class="gallery_item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/10%20%282%29.d9d35a30b8506b0047d49173ca9fc557.jpg" alt="">
							</div>
						</a>						<a href="images/gallery/10.jpg">
							<div class="gallery_item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/10.d9d35a30b8506b0047d49173ca9fc557.jpg" alt="">
							</div>
						</a>						<a href="images/gallery/117 (1).jpg">
							<div class="gallery_item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/117%20%281%29.d9d35a30b8506b0047d49173ca9fc557.jpg" alt="">
							</div>
						</a>						<a href="images/gallery/16.jpg">
							<div class="gallery_item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/16.d9d35a30b8506b0047d49173ca9fc557.jpg" alt="">
							</div>
						</a>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- GALLERY : END -->


	<!-- TESTIMONIALS : START -->
	<section class="testimonials" id="section-testinmonials">
		<div class="heading heading--dark-bg heading--pen-left">
			<div class="container">
				<div class="row">
					<div class="col-sm-12 text-center">
						<span>Отзывы</span>
					</div>
				</div>
			</div>
		</div>

		<div class="container">
			<div class="row">
				<div class="col-sm-10 col-sm-offset-1 wow fadeInUp">
					<div class="owl-carousel popup-gallery-2" id="owl-testimonials">
						<a href="images/testimonials/fUUpw5D6AfE.jpg">
							<div class="testimonial__item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/fUUpw5D6AfE.8cd0e613c0ec837e8596fba4a54c533b.jpg" alt="">
							</div>
						</a>
						<a href="images/testimonials/IMG_1390.PNG">
							<div class="testimonial__item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/IMG_1390.e1142c58280a8d4f0086aa7aced71b52.png" alt="">
							</div>
						</a>
						<a href="images/testimonials/IMG_1391.PNG">
							<div class="testimonial__item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/IMG_1391.e1142c58280a8d4f0086aa7aced71b52.png" alt="">
							</div>
						</a>
						<a href="images/testimonials/IMG_1392.PNG">
							<div class="testimonial__item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/IMG_1392.e1142c58280a8d4f0086aa7aced71b52.png" alt="">
							</div>
						</a>
						<a href="images/testimonials/IMG_1393.PNG">
							<div class="testimonial__item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/IMG_1393.e1142c58280a8d4f0086aa7aced71b52.png" alt="">
							</div>
						</a>
						<a href="images/testimonials/IMG_1394.PNG">
							<div class="testimonial__item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/IMG_1394.e1142c58280a8d4f0086aa7aced71b52.png" alt="">
							</div>
						</a>
						<a href="images/testimonials/n72mqmVfmfE.jpg">
							<div class="testimonial__item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/n72mqmVfmfE.8cd0e613c0ec837e8596fba4a54c533b.jpg" alt="">
							</div>
						</a>
						<a href="images/testimonials/QR5M4v5wths.jpg">
							<div class="testimonial__item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/QR5M4v5wths.8cd0e613c0ec837e8596fba4a54c533b.jpg" alt="">
							</div>
						</a>
						<a href="images/testimonials/tmtIJ1CBDzU.jpg">
							<div class="testimonial__item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/tmtIJ1CBDzU.8cd0e613c0ec837e8596fba4a54c533b.jpg" alt="">
							</div>
						</a>
						<a href="images/testimonials/VleNNVpJq4A.jpg">
							<div class="testimonial__item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/VleNNVpJq4A.8cd0e613c0ec837e8596fba4a54c533b.jpg" alt="">
							</div>
						</a>
						<a href="images/testimonials/ZB_zVvvaCy0.jpg">
							<div class="testimonial__item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/ZB_zVvvaCy0.8cd0e613c0ec837e8596fba4a54c533b.jpg" alt="">
							</div>
						</a>

					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- TESTIMONIALS : END -->

	<!-- FROM : START -->
	<section class="form" id="section-order">
		<div class="container">
			<div class="row">
				<div class="col-sm-12 text-center wow fadeInUp">
					<div class="form__heading">
						Оформите заявку прямо сейчас <br> и получите подарок!
					</div>
					<div class="form__heading__tag">
						брелок с гос. номером
					</div>
				</div>
			</div>
			<div class="row" style="position: relative;">
				<div class="col-sm-6 col-md-5 col-md-offset-1 col-lg-4 col-lg-offset-2 wow fadeInLeft" data-wow-delay="1s">
[[!AjaxForm?
    &snippet=`FormIt`
    &form=`tpl.AjaxForm.main`
    &hooks=`email`
    &emailSubject=`Сообщение с сайта present48`
    &emailTo=`xs290@me.com`
    &validate=`name:required,phone:required`
    &validationErrorMessage=`В форме содержатся ошибки!`
    &successMessage=`Заявка успешно отправлена`
]]
				</div>
				<div class="col-sm-6 wow fadeInRight visible-xs" data-wow-delay=".5s">
					<img src="img/form-bg.png" alt="" class="img-responsive">
				</div>
			</div>
		</div>
	</section>
	<!-- FROM : END -->

	<!-- FOOTER : START -->
	<footer class="footer">
		<div class="container">
			<div class="row">
				<div class="col-sm-3 no-pad-r">
					<img src="img/logo-footer.svg" alt="" class="img-responsive">
					<div class="footer__copywrite">
						©  2016 ИП Михин Сергей Евгеньевич <br>
						ИНН - 482413792018 <br>
						ОГРНИП - 306482222300031 <br>
						Тел: +7(910)739-17-37 <br>
						Адрес: 398000 г. Липецк ул. Советская д.66
					</div>
				</div>
				<div class="col-sm-6 text-center">
					<div class="footer__phone">
						<a href="tel:88001424225">8 (800) 142-42-25</a>
					</div>
					<div class="footer__phone-helper">
						Поможем с выбором с 10:00 - 19:00
					</div>
					<div class="footer__socials">
						<a href="#">
							<div class="footer__socials__ico">
								<i class="ico ico-instagram"></i>
							</div>
						</a>
						<a href="#">
							<div class="footer__socials__ico">
								<i class="ico ico-vk"></i>
							</div>
						</a>
						<a href="#">
							<div class="footer__socials__ico">
								<i class="ico ico-ok"></i>
							</div>
						</a>
					</div>
				</div>
				<div class="col-sm-3 text-right footer__payments hidden-xs">
					<img src="img/ico-pay.png" alt="" class="img-responsive">
				</div>
			</div>
		</div>
	</footer>
	<!-- FOOTER : END -->

	<!-- TOP BUTTON : START -->
	<a href="#section-hero">
		<div class="back-to-top">
			<div class="back-to-top__wrap">
				<i class="ico ico-top"></i>
			</div>
		</div>
	</a>
	<!-- TOP BUTTON : END -->

	<!-- dialog itself, mfp-hide class is required to make dialog hidden -->
	<div id="contact-form" class="zoom-anim-dialog mfp-hide">
		<div class="popup__heading">ЗАКАЖИТЕ ОБРАТНЫЙ ЗВОНОК</div>
[[!AjaxForm?
    &snippet=`FormIt`
    &form=`tpl.AjaxForm.short`
    &hooks=`email`
    &emailSubject=`Сообщение с сайта present48`
    &emailTo=`xs290@me.com`
    &validate=`name:required,phone:required`
    &validationErrorMessage=`В форме содержатся ошибки!`
    &successMessage=`Заявка успешно отправлена`
]]
	</div>
	
	<div id="order-good-form" class="zoom-anim-dialog mfp-hide">
		<div class="popup__heading">Оформить заказ</div>
[[!AjaxForm?
    &snippet=`FormIt`
    &form=`tpl.AjaxForm.goods`
    &hooks=`email`
    &emailSubject=`Заказ с сайта present48`
    &emailTo=`xs290@me.com`
    &validate=`name:required,phone:required`
    &validationErrorMessage=`В форме содержатся ошибки!`
    &successMessage=`Заявка успешно отправлена`
]]
	</div>

</body>
</html>',
    '_isForward' => false,
  ),
  'contentType' => 
  array (
    'id' => 1,
    'name' => 'HTML',
    'description' => 'HTML content',
    'mime_type' => 'text/html',
    'file_extensions' => '.html',
    'headers' => NULL,
    'binary' => 0,
  ),
  'policyCache' => 
  array (
  ),
  'elementCache' => 
  array (
    '[[$head]]' => '<head>
	<!-- FRONT-END FROM RUSSIA WITH LOVE -.- SERGEY KHMELEVSKOY -.- -->
	<!-- VISIT http://f-end.ru -->
	<!-- Follow BEM methodology and SMACSS to manage stylesheets -->

	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Главная - MODX Revolution</title>
    <base href="[[!++site_url]]" />

	<link rel="stylesheet" href="css/bootstrap.min.css" type="text/css" />
	<link rel="stylesheet" href="css/owl.carousel.css" type="text/css" />
	<link rel="stylesheet" href="css/hamburgers.min.css" type="text/css" />
	<link rel="stylesheet" href="css/magnific-popup.css" type="text/css" />
	<link rel="stylesheet" href="css/animate.css" type="text/css" />
	<link rel="stylesheet" href="css/style.css" type="text/css" />
	
	<!-- Scripts can be moved to the bottom -->
	<script type="text/javascript" src="js/jquery.min.js"></script>	
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/owl.carousel.min.js"></script>
	<script type="text/javascript" src="js/jquery.magnific-popup.min.js"></script>
	<script type="text/javascript" src="js/jquery.maskedinput.min.js"></script>
	<script type="text/javascript" src="js/wow.min.js"></script>
	<script type="text/javascript" src="js/url.min.js"></script>
	<script type="text/javascript" src="js/main.js"></script>

    <script type="text/javascript">
        (function(_,r,e,t,a,i,l){_[\'retailCRMObject\']=a;_[a]=_[a]||function(){(_[a].q=_[a].q||[]).push(arguments)};_[a].l=1*new Date();l=r.getElementsByTagName(e)[0];i=r.createElement(e);i.async=!0;i.src=t;l.parentNode.insertBefore(i,l)})(window,document,\'script\',\'https://collector.retailcrm.pro/w.js\',\'_rc\');
    
        _rc(\'create\', \'RC-36790603846-2\');
        _rc(\'send\', \'pageView\');
    </script>

	<!--[if lt IE 9]>
    <script src="js/html5shiv.min.js"></script>
    <![endif]-->
</head>',
    '[[$header]]' => '	<!-- HEADER : START -->
	<header class="header hidden-xs" id="section-hero">
		<div class="container">
			<div class="row">
				<div class="col-sm-3">
					<a href="#">
						<img src="img/logo.svg" class="img-responsive">
					</a>
				</div>
				<div class="col-sm-6 text-center">
					<ul class="header-menu">
						<li><a href="#section-goods">Товары</a></li>
						<li><a href="#section-steps">Доставка<span> и оплата</span></a></li>
						<li><a href="#section-gallery"><span>Наши</span> Работы</a></li>
						<li><a href="#section-testinmonials">Отзывы</a></li>
						<li><a href="#section-order">Заказать</a></li>
					</ul>
				</div>
				<div class="col-sm-3  no-pad-l text-right">
					<i class="ico ico-header-phone"></i>
					<a href="tel:88001424225"><span class="header__phone">8 (800) 142-42-25</span></a>
					<a href="#contact-form" class="popup-with-zoom-anim header__callback">Заказать звонок</a>
				</div>
			</div>
		</div>
	</header>
	<!-- mobile -->
	<div class="header-mobile visible-xs">
		<div class="container">
			<div class="row">
				<div class="col-xs-12">
					<button class="hamburger hamburger--collapse" type="button" id="show-me-menu">
						<span class="hamburger-box">
							<span class="hamburger-inner"></span>
						</span>
					</button>
					<a href="#"><img src="img/logo.svg" class="img-responsive header-mobile__logo" alt=""></a>
					<div class="pull-right">
						<a href="tel:88001424225" class="header-mobile__phone">
						8 (800) 142-42-25
						</a>
					</div>
				</div>

			</div>
		</div>
	</div>
	<section class="mobile-nav">
		<button class="hamburger hamburger--collapse is-active" type="button" id="hide-me-menu">
			<span class="hamburger-box">
				<span class="hamburger-inner"></span>
			</span>
		</button>
		<ul class="main-navi">
			<li><a href="#section-goods">Товары</a></li>
			<li><a href="#section-steps">Доставка<span> и оплата</span></a></li>
			<li><a href="#section-gallery"><span>Наши</span> Работы</a></li>
			<li><a href="#section-testinmonials">Отзывы</a></li>
			<li><a href="#section-order">Заказать</a></li>
		</ul>
		<div class="mobile-nav-contact">
			<div class="header-phone"><a href="tel:88001424225">8 (800) 142-42-25</a></div>
			<div class="header-adress">Бесплатные звонки по всей России</div>
		</div>
	</section>
	<!-- floating -->
	<div class="header--floating hidden-xs">
		<div class="container">
			<div class="row">
				<div class="col-sm-3 col-md-2 no-pad-r header--floating__logo">
					<a href="#">
						<img src="img/logo.svg" class="img-responsive">
					</a>
				</div>
				<div class="col-sm-6 col-md-7 col-lg-6 text-center">
					<ul class="header-menu">
						<li><a href="#section-goods">Товары</a></li>
						<li><a href="#section-steps">Доставка<span> и оплата</span></a></li>
						<li><a href="#section-gallery"><span>Наши</span> Работы</a></li>
						<li><a href="#section-testinmonials">Отзывы</a></li>
						<li><a href="#section-order">Заказать</a></li>
					</ul>
				</div>
				<div class="col-sm-3 col-md-3 col-lg-4 text-right ">
					<a href="#contact-form" class="popup-with-zoom-anim header__callback">Заказать звонок</a>
					<a href="tel:88001424225"><span class="header__phone">8 (800) 142-42-25</span></a>
				</div>
			</div>
		</div>
	</div>
	<!-- HEADER : END -->
',
    '[[$benefits]]' => '	<!-- BENEFITS : START -->
	<section class="benefits text-center wow fadeInUp" id="section-benefits">
		<div class="container">
			<div class="row">
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-1"></i>
					<div class="benefits__benefit__name">
						Гарантия 24 месяца
					</div>
				</div>
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-2"></i>
					<div class="benefits__benefit__name">
						Прямые поставки от официального дистрибьютора Parker в России
					</div>
				</div>
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-3"></i>
					<div class="benefits__benefit__name">
						Отправка в день заказа
					</div>
				</div>
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-4"></i>
					<div class="benefits__benefit__name">
						Высокие складские остатки
					</div>
				</div>
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-5"></i>
					<div class="benefits__benefit__name">
						Собственное оборудование
					</div>
				</div>
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-6"></i>
					<div class="benefits__benefit__name">
						Штат профессиональных дизайнеров
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- BENEFITS : END -->',
    '[[getImageList?
    &tvname=`goods_item--ball`
    &tpl=`goods_item_tpl_main`
]]' => '								<div class="pen-toggle active">
								<div class="col-sm-4 goods__content__mainpic">
									<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen1.6a4946b2d075009b94db3c2c5d743da4.png" alt="Шариковая ручка Parker IM" class="img-responsive">
								</div>
								<div class="col-sm-4 col-md-5 goods__content__description">
									<div class="goods__content__name wow fadeInLeft" data-wow-delay=".3s">
									    Шариковая ручка Parker IM
									</div>
									<div class="goods__content__attributes wow fadeInLeft" data-wow-delay=".3s">
										цвет - металлик. # S0856480  
									</div>
									<div class="goods__content__price wow fadeInLeft" data-wow-delay=".3s">
										1780 Р
										<span>+250Р (гравировка)</span>
									</div>
									<a href="#order-good-form" data-order="Шариковая ручка Parker IM || цвет - металлик. # S0856480   || 1780 Р" class="btn btn--goods-cta wow fadeInLeft popup-with-zoom-anim" data-wow-delay=".3s"><span>ЗАКАЗАТЬ ЭТУ МОДЕЛЬ</span></a>
								</div>
								</div>								<div class="pen-toggle">
								<div class="col-sm-4 goods__content__mainpic">
									<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen2.7212481526f2377287b71cd54a4b4233.jpg" alt="Шариковая ручка Parker IM" class="img-responsive">
								</div>
								<div class="col-sm-4 col-md-5 goods__content__description">
									<div class="goods__content__name wow fadeInLeft" data-wow-delay=".3s">
									    Шариковая ручка Parker IM
									</div>
									<div class="goods__content__attributes wow fadeInLeft" data-wow-delay=".3s">
										цвет - черный. # S0856440
									</div>
									<div class="goods__content__price wow fadeInLeft" data-wow-delay=".3s">
										1780 Р
										<span>+250Р (гравировка)</span>
									</div>
									<a href="#order-good-form" data-order="Шариковая ручка Parker IM || цвет - черный. # S0856440 || 1780 Р" class="btn btn--goods-cta wow fadeInLeft popup-with-zoom-anim" data-wow-delay=".3s"><span>ЗАКАЗАТЬ ЭТУ МОДЕЛЬ</span></a>
								</div>
								</div>',
    '[[getImageList?
    &tvname=`goods_item--ball`
    &tpl=`goods_item_tpl_main_small`
]]' => '										<div class="goods__content__models__img-wrap active">
											<a href=""><img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen1.4ccfbc7f7a36f30953100955e16955c8.png" alt="Шариковая ручка Parker IM" class="img-responsive"></a>
										</div>
										<div class="goods__content__models__img-wrap ">
											<a href=""><img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen2.b88917d76b2219f119bc6d6e867576ab.jpg" alt="Шариковая ручка Parker IM" class="img-responsive"></a>
										</div>
',
    '[[getImageList?
    &tvname=`goods_item--roller`
    &tpl=`goods_item_tpl_main`
]]' => '								<div class="pen-toggle active">
								<div class="col-sm-4 goods__content__mainpic">
									<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen3.7212481526f2377287b71cd54a4b4233.jpg" alt="Роллерная ручка Parker IM" class="img-responsive">
								</div>
								<div class="col-sm-4 col-md-5 goods__content__description">
									<div class="goods__content__name wow fadeInLeft" data-wow-delay=".3s">
									    Роллерная ручка Parker IM
									</div>
									<div class="goods__content__attributes wow fadeInLeft" data-wow-delay=".3s">
										цвет - металлик, S0856400
									</div>
									<div class="goods__content__price wow fadeInLeft" data-wow-delay=".3s">
										2360 Р
										<span>+250Р (гравировка)</span>
									</div>
									<a href="#order-good-form" data-order="Роллерная ручка Parker IM || цвет - металлик, S0856400 || 2360 Р" class="btn btn--goods-cta wow fadeInLeft popup-with-zoom-anim" data-wow-delay=".3s"><span>ЗАКАЗАТЬ ЭТУ МОДЕЛЬ</span></a>
								</div>
								</div>								<div class="pen-toggle">
								<div class="col-sm-4 goods__content__mainpic">
									<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen4.7212481526f2377287b71cd54a4b4233.jpg" alt="Роллерная ручка Parker IM" class="img-responsive">
								</div>
								<div class="col-sm-4 col-md-5 goods__content__description">
									<div class="goods__content__name wow fadeInLeft" data-wow-delay=".3s">
									    Роллерная ручка Parker IM
									</div>
									<div class="goods__content__attributes wow fadeInLeft" data-wow-delay=".3s">
										цвет - черный, S0856360
									</div>
									<div class="goods__content__price wow fadeInLeft" data-wow-delay=".3s">
										2360 Р
										<span>+250Р (гравировка)</span>
									</div>
									<a href="#order-good-form" data-order="Роллерная ручка Parker IM || цвет - черный, S0856360 || 2360 Р" class="btn btn--goods-cta wow fadeInLeft popup-with-zoom-anim" data-wow-delay=".3s"><span>ЗАКАЗАТЬ ЭТУ МОДЕЛЬ</span></a>
								</div>
								</div>',
    '[[getImageList?
    &tvname=`goods_item--roller`
    &tpl=`goods_item_tpl_main_small`
]]' => '										<div class="goods__content__models__img-wrap active">
											<a href=""><img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen3.b88917d76b2219f119bc6d6e867576ab.jpg" alt="Роллерная ручка Parker IM" class="img-responsive"></a>
										</div>
										<div class="goods__content__models__img-wrap ">
											<a href=""><img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen4.b88917d76b2219f119bc6d6e867576ab.jpg" alt="Роллерная ручка Parker IM" class="img-responsive"></a>
										</div>
',
    '[[getImageList?
    &tvname=`goods_item--pero`
    &tpl=`goods_item_tpl_main`
]]' => '								<div class="pen-toggle active">
								<div class="col-sm-4 goods__content__mainpic">
									<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen5.7212481526f2377287b71cd54a4b4233.jpg" alt="Перьевая ручка Parker IM" class="img-responsive">
								</div>
								<div class="col-sm-4 col-md-5 goods__content__description">
									<div class="goods__content__name wow fadeInLeft" data-wow-delay=".3s">
									    Перьевая ручка Parker IM
									</div>
									<div class="goods__content__attributes wow fadeInLeft" data-wow-delay=".3s">
										цвет – металлик, S0856230
									</div>
									<div class="goods__content__price wow fadeInLeft" data-wow-delay=".3s">
										2840 Р
										<span>+250Р (гравировка)</span>
									</div>
									<a href="#order-good-form" data-order="Перьевая ручка Parker IM || цвет – металлик, S0856230 || 2840 Р" class="btn btn--goods-cta wow fadeInLeft popup-with-zoom-anim" data-wow-delay=".3s"><span>ЗАКАЗАТЬ ЭТУ МОДЕЛЬ</span></a>
								</div>
								</div>								<div class="pen-toggle">
								<div class="col-sm-4 goods__content__mainpic">
									<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen6.7212481526f2377287b71cd54a4b4233.jpg" alt="Перьевая ручка Parker IM" class="img-responsive">
								</div>
								<div class="col-sm-4 col-md-5 goods__content__description">
									<div class="goods__content__name wow fadeInLeft" data-wow-delay=".3s">
									    Перьевая ручка Parker IM
									</div>
									<div class="goods__content__attributes wow fadeInLeft" data-wow-delay=".3s">
										цвет – черный, S0856190
									</div>
									<div class="goods__content__price wow fadeInLeft" data-wow-delay=".3s">
										2840 Р
										<span>+250Р (гравировка)</span>
									</div>
									<a href="#order-good-form" data-order="Перьевая ручка Parker IM || цвет – черный, S0856190 || 2840 Р" class="btn btn--goods-cta wow fadeInLeft popup-with-zoom-anim" data-wow-delay=".3s"><span>ЗАКАЗАТЬ ЭТУ МОДЕЛЬ</span></a>
								</div>
								</div>',
    '[[getImageList?
    &tvname=`goods_item--pero`
    &tpl=`goods_item_tpl_main_small`
]]' => '										<div class="goods__content__models__img-wrap active">
											<a href=""><img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen5.b88917d76b2219f119bc6d6e867576ab.jpg" alt="Перьевая ручка Parker IM" class="img-responsive"></a>
										</div>
										<div class="goods__content__models__img-wrap ">
											<a href=""><img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/pen6.b88917d76b2219f119bc6d6e867576ab.jpg" alt="Перьевая ручка Parker IM" class="img-responsive"></a>
										</div>
',
    '[[$steps]]' => '	<!-- STEPS : START -->
	<section class="steps" id="section-steps">
		<div class="heading heading--white-bg heading--pen-left">
			<div class="container">
				<div class="row">
					<div class="col-sm-12 text-center">
						<span>Доставка и оплата</span>
					</div>
				</div>
			</div>
		</div>

		<div class="container">
			<div class="row">
				<div class="col-sm-3">
					<div class="steps__step text-center wow fadeInUp" data-wow-delay="0s">
						<div class="steps__step__icon">
							<i class="ico ico-step-1"></i>
							<span class="steps__step__icon__num">1</span>
						</div>
						<div class="steps__step__name">
							Заявка
						</div>
						<div class="steps__step__desc">
							Выбирите ручку и желаемый текст гравировки
						</div>
					</div>
				</div>
				<div class="col-sm-3">
					<div class="steps__step text-center wow fadeInUp" data-wow-delay=".35s">
						<div class="steps__step__icon">
							<i class="ico ico-step-2"></i>
							<span class="steps__step__icon__num">2</span>
						</div>
						<div class="steps__step__name">
							Согласование макета
						</div>
						<div class="steps__step__desc">
							Выбирите ручку и желаемый текст гравировки
						</div>
					</div>
				</div>
				<div class="col-sm-3">
					<div class="steps__step text-center wow fadeInUp" data-wow-delay=".75s">
						<div class="steps__step__icon">
							<i class="ico ico-step-3"></i>
							<span class="steps__step__icon__num">3</span>
						</div>
						<div class="steps__step__name">
							Гравировка
						</div>
						<div class="steps__step__desc">
							Выбирите ручку и желаемый текст гравировки
						</div>
					</div>
				</div>
				<div class="col-sm-3">
					<div class="steps__step text-center last wow fadeInUp" data-wow-delay="1s">
						<div class="steps__step__icon">
							<i class="ico ico-step-4"></i>
							<span class="steps__step__icon__num">4</span>
						</div>
						<div class="steps__step__name">
							Оплата
						</div>
						<div class="steps__step__desc">
							Выбирите ручку и желаемый текст гравировки
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- STEPS : END -->',
    '[[getImageList?
    &tvname=`testimonials`
    &tpl=`gallery_tpl`
]]' => '						<a href="images/gallery/-LwmQxYHM1g.jpg">
							<div class="gallery_item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/-LwmQxYHM1g.d9d35a30b8506b0047d49173ca9fc557.jpg" alt="">
							</div>
						</a>						<a href="images/gallery/06RrHY18id8.jpg">
							<div class="gallery_item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/06RrHY18id8.d9d35a30b8506b0047d49173ca9fc557.jpg" alt="">
							</div>
						</a>						<a href="images/gallery/1  .jpg">
							<div class="gallery_item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/1%20%20.d9d35a30b8506b0047d49173ca9fc557.jpg" alt="">
							</div>
						</a>						<a href="images/gallery/10 (2).jpg">
							<div class="gallery_item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/10%20%282%29.d9d35a30b8506b0047d49173ca9fc557.jpg" alt="">
							</div>
						</a>						<a href="images/gallery/10.jpg">
							<div class="gallery_item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/10.d9d35a30b8506b0047d49173ca9fc557.jpg" alt="">
							</div>
						</a>						<a href="images/gallery/117 (1).jpg">
							<div class="gallery_item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/117%20%281%29.d9d35a30b8506b0047d49173ca9fc557.jpg" alt="">
							</div>
						</a>						<a href="images/gallery/16.jpg">
							<div class="gallery_item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/16.d9d35a30b8506b0047d49173ca9fc557.jpg" alt="">
							</div>
						</a>',
    '[[getImageList?
    &tvname=`gallery`
    &tpl=`testimonial_tpl`
]]' => '						<a href="images/testimonials/fUUpw5D6AfE.jpg">
							<div class="testimonial__item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/fUUpw5D6AfE.8cd0e613c0ec837e8596fba4a54c533b.jpg" alt="">
							</div>
						</a>
						<a href="images/testimonials/IMG_1390.PNG">
							<div class="testimonial__item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/IMG_1390.e1142c58280a8d4f0086aa7aced71b52.png" alt="">
							</div>
						</a>
						<a href="images/testimonials/IMG_1391.PNG">
							<div class="testimonial__item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/IMG_1391.e1142c58280a8d4f0086aa7aced71b52.png" alt="">
							</div>
						</a>
						<a href="images/testimonials/IMG_1392.PNG">
							<div class="testimonial__item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/IMG_1392.e1142c58280a8d4f0086aa7aced71b52.png" alt="">
							</div>
						</a>
						<a href="images/testimonials/IMG_1393.PNG">
							<div class="testimonial__item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/IMG_1393.e1142c58280a8d4f0086aa7aced71b52.png" alt="">
							</div>
						</a>
						<a href="images/testimonials/IMG_1394.PNG">
							<div class="testimonial__item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/IMG_1394.e1142c58280a8d4f0086aa7aced71b52.png" alt="">
							</div>
						</a>
						<a href="images/testimonials/n72mqmVfmfE.jpg">
							<div class="testimonial__item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/n72mqmVfmfE.8cd0e613c0ec837e8596fba4a54c533b.jpg" alt="">
							</div>
						</a>
						<a href="images/testimonials/QR5M4v5wths.jpg">
							<div class="testimonial__item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/QR5M4v5wths.8cd0e613c0ec837e8596fba4a54c533b.jpg" alt="">
							</div>
						</a>
						<a href="images/testimonials/tmtIJ1CBDzU.jpg">
							<div class="testimonial__item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/tmtIJ1CBDzU.8cd0e613c0ec837e8596fba4a54c533b.jpg" alt="">
							</div>
						</a>
						<a href="images/testimonials/VleNNVpJq4A.jpg">
							<div class="testimonial__item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/VleNNVpJq4A.8cd0e613c0ec837e8596fba4a54c533b.jpg" alt="">
							</div>
						</a>
						<a href="images/testimonials/ZB_zVvvaCy0.jpg">
							<div class="testimonial__item">
								<img src="/debug/1016-present/modx/assets/components/phpthumbof/cache/ZB_zVvvaCy0.8cd0e613c0ec837e8596fba4a54c533b.jpg" alt="">
							</div>
						</a>
',
    '[[$footer]]' => '	<!-- FOOTER : START -->
	<footer class="footer">
		<div class="container">
			<div class="row">
				<div class="col-sm-3 no-pad-r">
					<img src="img/logo-footer.svg" alt="" class="img-responsive">
					<div class="footer__copywrite">
						©  2016 ИП Михин Сергей Евгеньевич <br>
						ИНН - 482413792018 <br>
						ОГРНИП - 306482222300031 <br>
						Тел: +7(910)739-17-37 <br>
						Адрес: 398000 г. Липецк ул. Советская д.66
					</div>
				</div>
				<div class="col-sm-6 text-center">
					<div class="footer__phone">
						<a href="tel:88001424225">8 (800) 142-42-25</a>
					</div>
					<div class="footer__phone-helper">
						Поможем с выбором с 10:00 - 19:00
					</div>
					<div class="footer__socials">
						<a href="#">
							<div class="footer__socials__ico">
								<i class="ico ico-instagram"></i>
							</div>
						</a>
						<a href="#">
							<div class="footer__socials__ico">
								<i class="ico ico-vk"></i>
							</div>
						</a>
						<a href="#">
							<div class="footer__socials__ico">
								<i class="ico ico-ok"></i>
							</div>
						</a>
					</div>
				</div>
				<div class="col-sm-3 text-right footer__payments hidden-xs">
					<img src="img/ico-pay.png" alt="" class="img-responsive">
				</div>
			</div>
		</div>
	</footer>
	<!-- FOOTER : END -->',
  ),
  'sourceCache' => 
  array (
    'modChunk' => 
    array (
      'head' => 
      array (
        'fields' => 
        array (
          'id' => 2,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'head',
          'description' => '',
          'editor_type' => 0,
          'category' => 8,
          'cache_type' => 0,
          'snippet' => '<head>
	<!-- FRONT-END FROM RUSSIA WITH LOVE -.- SERGEY KHMELEVSKOY -.- -->
	<!-- VISIT http://f-end.ru -->
	<!-- Follow BEM methodology and SMACSS to manage stylesheets -->

	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>[[*pagetitle]] - [[++site_name]]</title>
    <base href="[[!++site_url]]" />

	<link rel="stylesheet" href="css/bootstrap.min.css" type="text/css" />
	<link rel="stylesheet" href="css/owl.carousel.css" type="text/css" />
	<link rel="stylesheet" href="css/hamburgers.min.css" type="text/css" />
	<link rel="stylesheet" href="css/magnific-popup.css" type="text/css" />
	<link rel="stylesheet" href="css/animate.css" type="text/css" />
	<link rel="stylesheet" href="css/style.css" type="text/css" />
	
	<!-- Scripts can be moved to the bottom -->
	<script type="text/javascript" src="js/jquery.min.js"></script>	
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/owl.carousel.min.js"></script>
	<script type="text/javascript" src="js/jquery.magnific-popup.min.js"></script>
	<script type="text/javascript" src="js/jquery.maskedinput.min.js"></script>
	<script type="text/javascript" src="js/wow.min.js"></script>
	<script type="text/javascript" src="js/url.min.js"></script>
	<script type="text/javascript" src="js/main.js"></script>

    <script type="text/javascript">
        (function(_,r,e,t,a,i,l){_[\'retailCRMObject\']=a;_[a]=_[a]||function(){(_[a].q=_[a].q||[]).push(arguments)};_[a].l=1*new Date();l=r.getElementsByTagName(e)[0];i=r.createElement(e);i.async=!0;i.src=t;l.parentNode.insertBefore(i,l)})(window,document,\'script\',\'https://collector.retailcrm.pro/w.js\',\'_rc\');
    
        _rc(\'create\', \'RC-36790603846-2\');
        _rc(\'send\', \'pageView\');
    </script>

	<!--[if lt IE 9]>
    <script src="js/html5shiv.min.js"></script>
    <![endif]-->
</head>',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '<head>
	<!-- FRONT-END FROM RUSSIA WITH LOVE -.- SERGEY KHMELEVSKOY -.- -->
	<!-- VISIT http://f-end.ru -->
	<!-- Follow BEM methodology and SMACSS to manage stylesheets -->

	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>[[*pagetitle]] - [[++site_name]]</title>
    <base href="[[!++site_url]]" />

	<link rel="stylesheet" href="css/bootstrap.min.css" type="text/css" />
	<link rel="stylesheet" href="css/owl.carousel.css" type="text/css" />
	<link rel="stylesheet" href="css/hamburgers.min.css" type="text/css" />
	<link rel="stylesheet" href="css/magnific-popup.css" type="text/css" />
	<link rel="stylesheet" href="css/animate.css" type="text/css" />
	<link rel="stylesheet" href="css/style.css" type="text/css" />
	
	<!-- Scripts can be moved to the bottom -->
	<script type="text/javascript" src="js/jquery.min.js"></script>	
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/owl.carousel.min.js"></script>
	<script type="text/javascript" src="js/jquery.magnific-popup.min.js"></script>
	<script type="text/javascript" src="js/jquery.maskedinput.min.js"></script>
	<script type="text/javascript" src="js/wow.min.js"></script>
	<script type="text/javascript" src="js/url.min.js"></script>
	<script type="text/javascript" src="js/main.js"></script>

    <script type="text/javascript">
        (function(_,r,e,t,a,i,l){_[\'retailCRMObject\']=a;_[a]=_[a]||function(){(_[a].q=_[a].q||[]).push(arguments)};_[a].l=1*new Date();l=r.getElementsByTagName(e)[0];i=r.createElement(e);i.async=!0;i.src=t;l.parentNode.insertBefore(i,l)})(window,document,\'script\',\'https://collector.retailcrm.pro/w.js\',\'_rc\');
    
        _rc(\'create\', \'RC-36790603846-2\');
        _rc(\'send\', \'pageView\');
    </script>

	<!--[if lt IE 9]>
    <script src="js/html5shiv.min.js"></script>
    <![endif]-->
</head>',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'header' => 
      array (
        'fields' => 
        array (
          'id' => 3,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'header',
          'description' => '',
          'editor_type' => 0,
          'category' => 8,
          'cache_type' => 0,
          'snippet' => '	<!-- HEADER : START -->
	<header class="header hidden-xs" id="section-hero">
		<div class="container">
			<div class="row">
				<div class="col-sm-3">
					<a href="#">
						<img src="img/logo.svg" class="img-responsive">
					</a>
				</div>
				<div class="col-sm-6 text-center">
					<ul class="header-menu">
						<li><a href="#section-goods">Товары</a></li>
						<li><a href="#section-steps">Доставка<span> и оплата</span></a></li>
						<li><a href="#section-gallery"><span>Наши</span> Работы</a></li>
						<li><a href="#section-testinmonials">Отзывы</a></li>
						<li><a href="#section-order">Заказать</a></li>
					</ul>
				</div>
				<div class="col-sm-3  no-pad-l text-right">
					<i class="ico ico-header-phone"></i>
					<a href="tel:[[++phone_anchor]]"><span class="header__phone">[[++phone]]</span></a>
					<a href="#contact-form" class="popup-with-zoom-anim header__callback">Заказать звонок</a>
				</div>
			</div>
		</div>
	</header>
	<!-- mobile -->
	<div class="header-mobile visible-xs">
		<div class="container">
			<div class="row">
				<div class="col-xs-12">
					<button class="hamburger hamburger--collapse" type="button" id="show-me-menu">
						<span class="hamburger-box">
							<span class="hamburger-inner"></span>
						</span>
					</button>
					<a href="#"><img src="img/logo.svg" class="img-responsive header-mobile__logo" alt=""></a>
					<div class="pull-right">
						<a href="tel:[[++phone_anchor]]" class="header-mobile__phone">
						[[++phone]]
						</a>
					</div>
				</div>

			</div>
		</div>
	</div>
	<section class="mobile-nav">
		<button class="hamburger hamburger--collapse is-active" type="button" id="hide-me-menu">
			<span class="hamburger-box">
				<span class="hamburger-inner"></span>
			</span>
		</button>
		<ul class="main-navi">
			<li><a href="#section-goods">Товары</a></li>
			<li><a href="#section-steps">Доставка<span> и оплата</span></a></li>
			<li><a href="#section-gallery"><span>Наши</span> Работы</a></li>
			<li><a href="#section-testinmonials">Отзывы</a></li>
			<li><a href="#section-order">Заказать</a></li>
		</ul>
		<div class="mobile-nav-contact">
			<div class="header-phone"><a href="tel:[[++phone_anchor]]">[[++phone]]</a></div>
			<div class="header-adress">Бесплатные звонки по всей России</div>
		</div>
	</section>
	<!-- floating -->
	<div class="header--floating hidden-xs">
		<div class="container">
			<div class="row">
				<div class="col-sm-3 col-md-2 no-pad-r header--floating__logo">
					<a href="#">
						<img src="img/logo.svg" class="img-responsive">
					</a>
				</div>
				<div class="col-sm-6 col-md-7 col-lg-6 text-center">
					<ul class="header-menu">
						<li><a href="#section-goods">Товары</a></li>
						<li><a href="#section-steps">Доставка<span> и оплата</span></a></li>
						<li><a href="#section-gallery"><span>Наши</span> Работы</a></li>
						<li><a href="#section-testinmonials">Отзывы</a></li>
						<li><a href="#section-order">Заказать</a></li>
					</ul>
				</div>
				<div class="col-sm-3 col-md-3 col-lg-4 text-right ">
					<a href="#contact-form" class="popup-with-zoom-anim header__callback">Заказать звонок</a>
					<a href="tel:[[++phone_anchor]]"><span class="header__phone">[[++phone]]</span></a>
				</div>
			</div>
		</div>
	</div>
	<!-- HEADER : END -->
',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '	<!-- HEADER : START -->
	<header class="header hidden-xs" id="section-hero">
		<div class="container">
			<div class="row">
				<div class="col-sm-3">
					<a href="#">
						<img src="img/logo.svg" class="img-responsive">
					</a>
				</div>
				<div class="col-sm-6 text-center">
					<ul class="header-menu">
						<li><a href="#section-goods">Товары</a></li>
						<li><a href="#section-steps">Доставка<span> и оплата</span></a></li>
						<li><a href="#section-gallery"><span>Наши</span> Работы</a></li>
						<li><a href="#section-testinmonials">Отзывы</a></li>
						<li><a href="#section-order">Заказать</a></li>
					</ul>
				</div>
				<div class="col-sm-3  no-pad-l text-right">
					<i class="ico ico-header-phone"></i>
					<a href="tel:[[++phone_anchor]]"><span class="header__phone">[[++phone]]</span></a>
					<a href="#contact-form" class="popup-with-zoom-anim header__callback">Заказать звонок</a>
				</div>
			</div>
		</div>
	</header>
	<!-- mobile -->
	<div class="header-mobile visible-xs">
		<div class="container">
			<div class="row">
				<div class="col-xs-12">
					<button class="hamburger hamburger--collapse" type="button" id="show-me-menu">
						<span class="hamburger-box">
							<span class="hamburger-inner"></span>
						</span>
					</button>
					<a href="#"><img src="img/logo.svg" class="img-responsive header-mobile__logo" alt=""></a>
					<div class="pull-right">
						<a href="tel:[[++phone_anchor]]" class="header-mobile__phone">
						[[++phone]]
						</a>
					</div>
				</div>

			</div>
		</div>
	</div>
	<section class="mobile-nav">
		<button class="hamburger hamburger--collapse is-active" type="button" id="hide-me-menu">
			<span class="hamburger-box">
				<span class="hamburger-inner"></span>
			</span>
		</button>
		<ul class="main-navi">
			<li><a href="#section-goods">Товары</a></li>
			<li><a href="#section-steps">Доставка<span> и оплата</span></a></li>
			<li><a href="#section-gallery"><span>Наши</span> Работы</a></li>
			<li><a href="#section-testinmonials">Отзывы</a></li>
			<li><a href="#section-order">Заказать</a></li>
		</ul>
		<div class="mobile-nav-contact">
			<div class="header-phone"><a href="tel:[[++phone_anchor]]">[[++phone]]</a></div>
			<div class="header-adress">Бесплатные звонки по всей России</div>
		</div>
	</section>
	<!-- floating -->
	<div class="header--floating hidden-xs">
		<div class="container">
			<div class="row">
				<div class="col-sm-3 col-md-2 no-pad-r header--floating__logo">
					<a href="#">
						<img src="img/logo.svg" class="img-responsive">
					</a>
				</div>
				<div class="col-sm-6 col-md-7 col-lg-6 text-center">
					<ul class="header-menu">
						<li><a href="#section-goods">Товары</a></li>
						<li><a href="#section-steps">Доставка<span> и оплата</span></a></li>
						<li><a href="#section-gallery"><span>Наши</span> Работы</a></li>
						<li><a href="#section-testinmonials">Отзывы</a></li>
						<li><a href="#section-order">Заказать</a></li>
					</ul>
				</div>
				<div class="col-sm-3 col-md-3 col-lg-4 text-right ">
					<a href="#contact-form" class="popup-with-zoom-anim header__callback">Заказать звонок</a>
					<a href="tel:[[++phone_anchor]]"><span class="header__phone">[[++phone]]</span></a>
				</div>
			</div>
		</div>
	</div>
	<!-- HEADER : END -->
',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'benefits' => 
      array (
        'fields' => 
        array (
          'id' => 4,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'benefits',
          'description' => '',
          'editor_type' => 0,
          'category' => 8,
          'cache_type' => 0,
          'snippet' => '	<!-- BENEFITS : START -->
	<section class="benefits text-center wow fadeInUp" id="section-benefits">
		<div class="container">
			<div class="row">
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-1"></i>
					<div class="benefits__benefit__name">
						Гарантия 24 месяца
					</div>
				</div>
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-2"></i>
					<div class="benefits__benefit__name">
						Прямые поставки от официального дистрибьютора Parker в России
					</div>
				</div>
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-3"></i>
					<div class="benefits__benefit__name">
						Отправка в день заказа
					</div>
				</div>
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-4"></i>
					<div class="benefits__benefit__name">
						Высокие складские остатки
					</div>
				</div>
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-5"></i>
					<div class="benefits__benefit__name">
						Собственное оборудование
					</div>
				</div>
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-6"></i>
					<div class="benefits__benefit__name">
						Штат профессиональных дизайнеров
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- BENEFITS : END -->',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '	<!-- BENEFITS : START -->
	<section class="benefits text-center wow fadeInUp" id="section-benefits">
		<div class="container">
			<div class="row">
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-1"></i>
					<div class="benefits__benefit__name">
						Гарантия 24 месяца
					</div>
				</div>
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-2"></i>
					<div class="benefits__benefit__name">
						Прямые поставки от официального дистрибьютора Parker в России
					</div>
				</div>
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-3"></i>
					<div class="benefits__benefit__name">
						Отправка в день заказа
					</div>
				</div>
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-4"></i>
					<div class="benefits__benefit__name">
						Высокие складские остатки
					</div>
				</div>
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-5"></i>
					<div class="benefits__benefit__name">
						Собственное оборудование
					</div>
				</div>
				<div class="col-sm-2 benefits__benefit">
					<i class="ico ico-benefit-6"></i>
					<div class="benefits__benefit__name">
						Штат профессиональных дизайнеров
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- BENEFITS : END -->',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'steps' => 
      array (
        'fields' => 
        array (
          'id' => 7,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'steps',
          'description' => '',
          'editor_type' => 0,
          'category' => 8,
          'cache_type' => 0,
          'snippet' => '	<!-- STEPS : START -->
	<section class="steps" id="section-steps">
		<div class="heading heading--white-bg heading--pen-left">
			<div class="container">
				<div class="row">
					<div class="col-sm-12 text-center">
						<span>Доставка и оплата</span>
					</div>
				</div>
			</div>
		</div>

		<div class="container">
			<div class="row">
				<div class="col-sm-3">
					<div class="steps__step text-center wow fadeInUp" data-wow-delay="0s">
						<div class="steps__step__icon">
							<i class="ico ico-step-1"></i>
							<span class="steps__step__icon__num">1</span>
						</div>
						<div class="steps__step__name">
							Заявка
						</div>
						<div class="steps__step__desc">
							Выбирите ручку и желаемый текст гравировки
						</div>
					</div>
				</div>
				<div class="col-sm-3">
					<div class="steps__step text-center wow fadeInUp" data-wow-delay=".35s">
						<div class="steps__step__icon">
							<i class="ico ico-step-2"></i>
							<span class="steps__step__icon__num">2</span>
						</div>
						<div class="steps__step__name">
							Согласование макета
						</div>
						<div class="steps__step__desc">
							Выбирите ручку и желаемый текст гравировки
						</div>
					</div>
				</div>
				<div class="col-sm-3">
					<div class="steps__step text-center wow fadeInUp" data-wow-delay=".75s">
						<div class="steps__step__icon">
							<i class="ico ico-step-3"></i>
							<span class="steps__step__icon__num">3</span>
						</div>
						<div class="steps__step__name">
							Гравировка
						</div>
						<div class="steps__step__desc">
							Выбирите ручку и желаемый текст гравировки
						</div>
					</div>
				</div>
				<div class="col-sm-3">
					<div class="steps__step text-center last wow fadeInUp" data-wow-delay="1s">
						<div class="steps__step__icon">
							<i class="ico ico-step-4"></i>
							<span class="steps__step__icon__num">4</span>
						</div>
						<div class="steps__step__name">
							Оплата
						</div>
						<div class="steps__step__desc">
							Выбирите ручку и желаемый текст гравировки
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- STEPS : END -->',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '	<!-- STEPS : START -->
	<section class="steps" id="section-steps">
		<div class="heading heading--white-bg heading--pen-left">
			<div class="container">
				<div class="row">
					<div class="col-sm-12 text-center">
						<span>Доставка и оплата</span>
					</div>
				</div>
			</div>
		</div>

		<div class="container">
			<div class="row">
				<div class="col-sm-3">
					<div class="steps__step text-center wow fadeInUp" data-wow-delay="0s">
						<div class="steps__step__icon">
							<i class="ico ico-step-1"></i>
							<span class="steps__step__icon__num">1</span>
						</div>
						<div class="steps__step__name">
							Заявка
						</div>
						<div class="steps__step__desc">
							Выбирите ручку и желаемый текст гравировки
						</div>
					</div>
				</div>
				<div class="col-sm-3">
					<div class="steps__step text-center wow fadeInUp" data-wow-delay=".35s">
						<div class="steps__step__icon">
							<i class="ico ico-step-2"></i>
							<span class="steps__step__icon__num">2</span>
						</div>
						<div class="steps__step__name">
							Согласование макета
						</div>
						<div class="steps__step__desc">
							Выбирите ручку и желаемый текст гравировки
						</div>
					</div>
				</div>
				<div class="col-sm-3">
					<div class="steps__step text-center wow fadeInUp" data-wow-delay=".75s">
						<div class="steps__step__icon">
							<i class="ico ico-step-3"></i>
							<span class="steps__step__icon__num">3</span>
						</div>
						<div class="steps__step__name">
							Гравировка
						</div>
						<div class="steps__step__desc">
							Выбирите ручку и желаемый текст гравировки
						</div>
					</div>
				</div>
				<div class="col-sm-3">
					<div class="steps__step text-center last wow fadeInUp" data-wow-delay="1s">
						<div class="steps__step__icon">
							<i class="ico ico-step-4"></i>
							<span class="steps__step__icon__num">4</span>
						</div>
						<div class="steps__step__name">
							Оплата
						</div>
						<div class="steps__step__desc">
							Выбирите ручку и желаемый текст гравировки
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- STEPS : END -->',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
      'footer' => 
      array (
        'fields' => 
        array (
          'id' => 8,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'footer',
          'description' => '',
          'editor_type' => 0,
          'category' => 8,
          'cache_type' => 0,
          'snippet' => '	<!-- FOOTER : START -->
	<footer class="footer">
		<div class="container">
			<div class="row">
				<div class="col-sm-3 no-pad-r">
					<img src="img/logo-footer.svg" alt="" class="img-responsive">
					<div class="footer__copywrite">
						©  2016 ИП Михин Сергей Евгеньевич <br>
						ИНН - 482413792018 <br>
						ОГРНИП - 306482222300031 <br>
						Тел: +7(910)739-17-37 <br>
						Адрес: 398000 г. Липецк ул. Советская д.66
					</div>
				</div>
				<div class="col-sm-6 text-center">
					<div class="footer__phone">
						<a href="tel:[[++phone_anchor]]">[[++phone]]</a>
					</div>
					<div class="footer__phone-helper">
						Поможем с выбором с 10:00 - 19:00
					</div>
					<div class="footer__socials">
						<a href="#">
							<div class="footer__socials__ico">
								<i class="ico ico-instagram"></i>
							</div>
						</a>
						<a href="#">
							<div class="footer__socials__ico">
								<i class="ico ico-vk"></i>
							</div>
						</a>
						<a href="#">
							<div class="footer__socials__ico">
								<i class="ico ico-ok"></i>
							</div>
						</a>
					</div>
				</div>
				<div class="col-sm-3 text-right footer__payments hidden-xs">
					<img src="img/ico-pay.png" alt="" class="img-responsive">
				</div>
			</div>
		</div>
	</footer>
	<!-- FOOTER : END -->',
          'locked' => false,
          'properties' => 
          array (
          ),
          'static' => false,
          'static_file' => '',
          'content' => '	<!-- FOOTER : START -->
	<footer class="footer">
		<div class="container">
			<div class="row">
				<div class="col-sm-3 no-pad-r">
					<img src="img/logo-footer.svg" alt="" class="img-responsive">
					<div class="footer__copywrite">
						©  2016 ИП Михин Сергей Евгеньевич <br>
						ИНН - 482413792018 <br>
						ОГРНИП - 306482222300031 <br>
						Тел: +7(910)739-17-37 <br>
						Адрес: 398000 г. Липецк ул. Советская д.66
					</div>
				</div>
				<div class="col-sm-6 text-center">
					<div class="footer__phone">
						<a href="tel:[[++phone_anchor]]">[[++phone]]</a>
					</div>
					<div class="footer__phone-helper">
						Поможем с выбором с 10:00 - 19:00
					</div>
					<div class="footer__socials">
						<a href="#">
							<div class="footer__socials__ico">
								<i class="ico ico-instagram"></i>
							</div>
						</a>
						<a href="#">
							<div class="footer__socials__ico">
								<i class="ico ico-vk"></i>
							</div>
						</a>
						<a href="#">
							<div class="footer__socials__ico">
								<i class="ico ico-ok"></i>
							</div>
						</a>
					</div>
				</div>
				<div class="col-sm-3 text-right footer__payments hidden-xs">
					<img src="img/ico-pay.png" alt="" class="img-responsive">
				</div>
			</div>
		</div>
	</footer>
	<!-- FOOTER : END -->',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
    ),
    'modSnippet' => 
    array (
      'getImageList' => 
      array (
        'fields' => 
        array (
          'id' => 1,
          'source' => 0,
          'property_preprocess' => false,
          'name' => 'getImageList',
          'description' => '',
          'editor_type' => 0,
          'category' => 1,
          'cache_type' => 0,
          'snippet' => '/**
 * getImageList
 *
 * Copyright 2009-2014 by Bruno Perner <b.perner@gmx.de>
 *
 * getImageList is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License as published by the Free
 * Software Foundation; either version 2 of the License, or (at your option) any
 * later version.
 *
 * getImageList is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * getImageList; if not, write to the Free Software Foundation, Inc., 59 Temple Place,
 * Suite 330, Boston, MA 02111-1307 USA
 *
 * @package migx
 */
/**
 * getImageList
 *
 * display Items from outputvalue of TV with custom-TV-input-type MIGX or from other JSON-string for MODx Revolution 
 *
 * @version 1.4
 * @author Bruno Perner <b.perner@gmx.de>
 * @copyright Copyright &copy; 2009-2014
 * @license http://www.gnu.org/licenses/old-licenses/gpl-2.0.html GNU General Public License
 * version 2 or (at your option) any later version.
 * @package migx
 */

/*example: <ul>[[!getImageList? &tvname=`myTV`&tpl=`@CODE:<li>[[+idx]]<img src="[[+imageURL]]"/><p>[[+imageAlt]]</p></li>`]]</ul>*/
/* get default properties */


$tvname = $modx->getOption(\'tvname\', $scriptProperties, \'\');
$tpl = $modx->getOption(\'tpl\', $scriptProperties, \'\');
$wrapperTpl = $modx->getOption(\'wrapperTpl\', $scriptProperties, \'\');
$limit = $modx->getOption(\'limit\', $scriptProperties, \'0\');
$offset = $modx->getOption(\'offset\', $scriptProperties, 0);
$totalVar = $modx->getOption(\'totalVar\', $scriptProperties, \'total\');
$randomize = $modx->getOption(\'randomize\', $scriptProperties, false);
$preselectLimit = $modx->getOption(\'preselectLimit\', $scriptProperties, 0); // when random preselect important images
$where = $modx->getOption(\'where\', $scriptProperties, \'\');
$where = !empty($where) ? $modx->fromJSON($where) : array();
$sort = $modx->getOption(\'sort\', $scriptProperties, \'\');
$sort = !empty($sort) ? $modx->fromJSON($sort) : array();
$toSeparatePlaceholders = $modx->getOption(\'toSeparatePlaceholders\', $scriptProperties, false);
$toPlaceholder = $modx->getOption(\'toPlaceholder\', $scriptProperties, false);
$outputSeparator = $modx->getOption(\'outputSeparator\', $scriptProperties, \'\');
$splitSeparator = $modx->getOption(\'splitSeparator\', $scriptProperties, \'\');
$placeholdersKeyField = $modx->getOption(\'placeholdersKeyField\', $scriptProperties, \'MIGX_id\');
$toJsonPlaceholder = $modx->getOption(\'toJsonPlaceholder\', $scriptProperties, false);
$jsonVarKey = $modx->getOption(\'jsonVarKey\', $scriptProperties, \'migx_outputvalue\');
$outputvalue = $modx->getOption(\'value\', $scriptProperties, \'\');
$outputvalue = isset($_REQUEST[$jsonVarKey]) ? $_REQUEST[$jsonVarKey] : $outputvalue;
$docidVarKey = $modx->getOption(\'docidVarKey\', $scriptProperties, \'migx_docid\');
$docid = $modx->getOption(\'docid\', $scriptProperties, (isset($modx->resource) ? $modx->resource->get(\'id\') : 1));
$docid = isset($_REQUEST[$docidVarKey]) ? $_REQUEST[$docidVarKey] : $docid;
$processTVs = $modx->getOption(\'processTVs\', $scriptProperties, \'1\');
$reverse = $modx->getOption(\'reverse\', $scriptProperties, \'0\');
$sumFields = $modx->getOption(\'sumFields\', $scriptProperties, \'\');
$sumPrefix = $modx->getOption(\'sumPrefix\', $scriptProperties, \'summary_\');
$addfields = $modx->getOption(\'addfields\', $scriptProperties, \'\');
$addfields = !empty($addfields) ? explode(\',\', $addfields) : null;
//split json into parts
$splits = $modx->fromJson($modx->getOption(\'splits\', $scriptProperties, 0));
$splitTpl = $modx->getOption(\'splitTpl\', $scriptProperties, \'\');
$splitSeparator = $modx->getOption(\'splitSeparator\', $scriptProperties, \'\');
$inheritFrom = $modx->getOption(\'inheritFrom\', $scriptProperties, \'\'); //commaseparated list of resource-ids or/and the keyword \'parents\' where to inherit from
$inheritFrom = !empty($inheritFrom) ? explode(\',\',$inheritFrom) : \'\';

$modx->setPlaceholder(\'docid\', $docid);

$base_path = $modx->getOption(\'base_path\', null, MODX_BASE_PATH);
$base_url = $modx->getOption(\'base_url\', null, MODX_BASE_URL);

$migx = $modx->getService(\'migx\', \'Migx\', $modx->getOption(\'migx.core_path\', null, $modx->getOption(\'core_path\') . \'components/migx/\') . \'model/migx/\', $scriptProperties);
if (!($migx instanceof Migx))
    return \'\';
$migx->working_context = isset($modx->resource) ? $modx->resource->get(\'context_key\') : \'web\';

if (!empty($tvname)) {
    if ($tv = $modx->getObject(\'modTemplateVar\', array(\'name\' => $tvname))) {

        /*
        *   get inputProperties
        */


        $properties = $tv->get(\'input_properties\');
        $properties = isset($properties[\'formtabs\']) ? $properties : $tv->getProperties();

        $migx->config[\'configs\'] = $modx->getOption(\'configs\', $properties, \'\');
        if (!empty($migx->config[\'configs\'])) {
            $migx->loadConfigs();
            // get tabs from file or migx-config-table
            $formtabs = $migx->getTabs();
        }
        if (empty($formtabs) && isset($properties[\'formtabs\'])) {
            //try to get formtabs and its fields from properties
            $formtabs = $modx->fromJSON($properties[\'formtabs\']);
        }

        if (!empty($properties[\'basePath\'])) {
            if ($properties[\'autoResourceFolders\'] == \'true\') {
                $scriptProperties[\'base_path\'] = $base_path . $properties[\'basePath\'] . $docid . \'/\';
                $scriptProperties[\'base_url\'] = $base_url . $properties[\'basePath\'] . $docid . \'/\';
            } else {
                $scriptProperties[\'base_path\'] = $base_path . $properties[\'base_path\'];
                $scriptProperties[\'base_url\'] = $base_url . $properties[\'basePath\'];
            }
        }
        if ($jsonVarKey == \'migx_outputvalue\' && !empty($properties[\'jsonvarkey\'])) {
            $jsonVarKey = $properties[\'jsonvarkey\'];
            $outputvalue = isset($_REQUEST[$jsonVarKey]) ? $_REQUEST[$jsonVarKey] : $outputvalue;
        }
        
        if (empty($outputvalue)){
            $outputvalue = $tv->renderOutput($docid);
            if (empty($outputvalue) && !empty($inheritFrom)){
                foreach ($inheritFrom as $from){
                    if ($from == \'parents\'){
                        $outputvalue = $tv->processInheritBinding(\'\',$docid);
                    }else{
                        $outputvalue = $tv->renderOutput($from);
                    }
                    if (!empty($outputvalue)){
                        break;
                    }                    
                }
            }
        }

       
        /*
        *   get inputTvs 
        */
        $inputTvs = array();
        if (is_array($formtabs)) {

            //multiple different Forms
            // Note: use same field-names and inputTVs in all forms
            $inputTvs = $migx->extractInputTvs($formtabs);
        }
        if ($migx->source = $tv->getSource($migx->working_context, false)){
            $migx->source->initialize();
        }
        
    }


}

if (empty($outputvalue)) {
    return \'\';
}

//echo $outputvalue.\'<br/><br/>\';

$items = $modx->fromJSON($outputvalue);

// where filter
if (is_array($where) && count($where) > 0) {
    $items = $migx->filterItems($where, $items);
}
$modx->setPlaceholder($totalVar, count($items));

if (!empty($reverse)) {
    $items = array_reverse($items);
}

// sort items
if (is_array($sort) && count($sort) > 0) {
    $items = $migx->sortDbResult($items, $sort);
}

$summaries = array();
$output = \'\';
$items = $offset > 0 ? array_slice($items, $offset) : $items;
$count = count($items);

if ($count > 0) {
    $limit = $limit == 0 || $limit > $count ? $count : $limit;
    $preselectLimit = $preselectLimit > $count ? $count : $preselectLimit;
    //preselect important items
    $preitems = array();
    if ($randomize && $preselectLimit > 0) {
        for ($i = 0; $i < $preselectLimit; $i++) {
            $preitems[] = $items[$i];
            unset($items[$i]);
        }
        $limit = $limit - count($preitems);
    }

    //shuffle items
    if ($randomize) {
        shuffle($items);
    }

    //limit items
    $count = count($items);
    $tempitems = array();

    for ($i = 0; $i < $limit; $i++) {
        if ($i >= $count) {
            break;
        }
        $tempitems[] = $items[$i];
    }
    $items = $tempitems;

    //add preselected items and schuffle again
    if ($randomize && $preselectLimit > 0) {
        $items = array_merge($preitems, $items);
        shuffle($items);
    }

    $properties = array();
    foreach ($scriptProperties as $property => $value) {
        $properties[\'property.\' . $property] = $value;
    }

    $idx = 0;
    $output = array();
    $template = array();
    $count = count($items);

    foreach ($items as $key => $item) {
        $formname = isset($item[\'MIGX_formname\']) ? $item[\'MIGX_formname\'] . \'_\' : \'\';
        $fields = array();
        foreach ($item as $field => $value) {
            if (is_array($value)) {
                if (is_array($value[0])) {
                    //nested array - convert to json
                    $value = $modx->toJson($value);
                } else {
                    $value = implode(\'||\', $value); //handle arrays (checkboxes, multiselects)
                }
            }


            $inputTVkey = $formname . $field;

            if ($processTVs && isset($inputTvs[$inputTVkey])) {
                if (isset($inputTvs[$inputTVkey][\'inputTV\']) && $tv = $modx->getObject(\'modTemplateVar\', array(\'name\' => $inputTvs[$inputTVkey][\'inputTV\']))) {

                } else {
                    $tv = $modx->newObject(\'modTemplateVar\');
                    $tv->set(\'type\', $inputTvs[$inputTVkey][\'inputTVtype\']);
                }
                $inputTV = $inputTvs[$inputTVkey];

                $mTypes = $modx->getOption(\'manipulatable_url_tv_output_types\', null, \'image,file\');
                //don\'t manipulate any urls here
                $modx->setOption(\'manipulatable_url_tv_output_types\', \'\');
                $tv->set(\'default_text\', $value);
                $value = $tv->renderOutput($docid);
                //set option back
                $modx->setOption(\'manipulatable_url_tv_output_types\', $mTypes);
                //now manipulate urls
                if ($mediasource = $migx->getFieldSource($inputTV, $tv)) {
                    $mTypes = explode(\',\', $mTypes);
                    if (!empty($value) && in_array($tv->get(\'type\'), $mTypes)) {
                        //$value = $mediasource->prepareOutputUrl($value);
                        $value = str_replace(\'/./\', \'/\', $mediasource->prepareOutputUrl($value));
                    }
                }

            }
            $fields[$field] = $value;

        }

        if (!empty($addfields)) {
            foreach ($addfields as $addfield) {
                $addfield = explode(\':\', $addfield);
                $addname = $addfield[0];
                $adddefault = isset($addfield[1]) ? $addfield[1] : \'\';
                $fields[$addname] = $adddefault;
            }
        }

        if (!empty($sumFields)) {
            $sumFields = is_array($sumFields) ? $sumFields : explode(\',\', $sumFields);
            foreach ($sumFields as $sumField) {
                if (isset($fields[$sumField])) {
                    $summaries[$sumPrefix . $sumField] = $summaries[$sumPrefix . $sumField] + $fields[$sumField];
                    $fields[$sumPrefix . $sumField] = $summaries[$sumPrefix . $sumField];
                }
            }
        }


        if ($toJsonPlaceholder) {
            $output[] = $fields;
        } else {
            $fields[\'_alt\'] = $idx % 2;
            $idx++;
            $fields[\'_first\'] = $idx == 1 ? true : \'\';
            $fields[\'_last\'] = $idx == $limit ? true : \'\';
            $fields[\'idx\'] = $idx;
            $rowtpl = \'\';
            //get changing tpls from field
            if (substr($tpl, 0, 7) == "@FIELD:") {
                $tplField = substr($tpl, 7);
                $rowtpl = $fields[$tplField];
            }

            if ($fields[\'_first\'] && !empty($tplFirst)) {
                $rowtpl = $tplFirst;
            }
            if ($fields[\'_last\'] && empty($rowtpl) && !empty($tplLast)) {
                $rowtpl = $tplLast;
            }
            $tplidx = \'tpl_\' . $idx;
            if (empty($rowtpl) && !empty($$tplidx)) {
                $rowtpl = $$tplidx;
            }
            if ($idx > 1 && empty($rowtpl)) {
                $divisors = $migx->getDivisors($idx);
                if (!empty($divisors)) {
                    foreach ($divisors as $divisor) {
                        $tplnth = \'tpl_n\' . $divisor;
                        if (!empty($$tplnth)) {
                            $rowtpl = $$tplnth;
                            if (!empty($rowtpl)) {
                                break;
                            }
                        }
                    }
                }
            }

            if ($count == 1 && isset($tpl_oneresult)) {
                $rowtpl = $tpl_oneresult;
            }

            $fields = array_merge($fields, $properties);

            if (!empty($rowtpl)) {
                $template = $migx->getTemplate($tpl, $template);
                $fields[\'_tpl\'] = $template[$tpl];
            } else {
                $rowtpl = $tpl;

            }
            $template = $migx->getTemplate($rowtpl, $template);


            if ($template[$rowtpl]) {
                $chunk = $modx->newObject(\'modChunk\');
                $chunk->setCacheable(false);
                $chunk->setContent($template[$rowtpl]);


                if (!empty($placeholdersKeyField) && isset($fields[$placeholdersKeyField])) {
                    $output[$fields[$placeholdersKeyField]] = $chunk->process($fields);
                } else {
                    $output[] = $chunk->process($fields);
                }
            } else {
                if (!empty($placeholdersKeyField)) {
                    $output[$fields[$placeholdersKeyField]] = \'<pre>\' . print_r($fields, 1) . \'</pre>\';
                } else {
                    $output[] = \'<pre>\' . print_r($fields, 1) . \'</pre>\';
                }
            }
        }


    }
}

if (count($summaries) > 0) {
    $modx->toPlaceholders($summaries);
}


if ($toJsonPlaceholder) {
    $modx->setPlaceholder($toJsonPlaceholder, $modx->toJson($output));
    return \'\';
}

if (!empty($toSeparatePlaceholders)) {
    $modx->toPlaceholders($output, $toSeparatePlaceholders);
    return \'\';
}
/*
if (!empty($outerTpl))
$o = parseTpl($outerTpl, array(\'output\'=>implode($outputSeparator, $output)));
else 
*/

if ($count > 0 && $splits > 0) {
    $size = ceil($count / $splits);
    $chunks = array_chunk($output, $size);
    $output = array();
    foreach ($chunks as $chunk) {
        $o = implode($outputSeparator, $chunk);
        $output[] = $modx->getChunk($splitTpl, array(\'output\' => $o));
    }
    $outputSeparator = $splitSeparator;
}

if (is_array($output)) {
    $o = implode($outputSeparator, $output);
} else {
    $o = $output;
}

if (!empty($o) && !empty($wrapperTpl)) {
    $template = $migx->getTemplate($wrapperTpl);
    if ($template[$wrapperTpl]) {
        $chunk = $modx->newObject(\'modChunk\');
        $chunk->setCacheable(false);
        $chunk->setContent($template[$wrapperTpl]);
        $properties[\'output\'] = $o;
        $o = $chunk->process($properties);
    }
}

if (!empty($toPlaceholder)) {
    $modx->setPlaceholder($toPlaceholder, $o);
    return \'\';
}

return $o;',
          'locked' => false,
          'properties' => 
          array (
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => '',
          'content' => '/**
 * getImageList
 *
 * Copyright 2009-2014 by Bruno Perner <b.perner@gmx.de>
 *
 * getImageList is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License as published by the Free
 * Software Foundation; either version 2 of the License, or (at your option) any
 * later version.
 *
 * getImageList is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * getImageList; if not, write to the Free Software Foundation, Inc., 59 Temple Place,
 * Suite 330, Boston, MA 02111-1307 USA
 *
 * @package migx
 */
/**
 * getImageList
 *
 * display Items from outputvalue of TV with custom-TV-input-type MIGX or from other JSON-string for MODx Revolution 
 *
 * @version 1.4
 * @author Bruno Perner <b.perner@gmx.de>
 * @copyright Copyright &copy; 2009-2014
 * @license http://www.gnu.org/licenses/old-licenses/gpl-2.0.html GNU General Public License
 * version 2 or (at your option) any later version.
 * @package migx
 */

/*example: <ul>[[!getImageList? &tvname=`myTV`&tpl=`@CODE:<li>[[+idx]]<img src="[[+imageURL]]"/><p>[[+imageAlt]]</p></li>`]]</ul>*/
/* get default properties */


$tvname = $modx->getOption(\'tvname\', $scriptProperties, \'\');
$tpl = $modx->getOption(\'tpl\', $scriptProperties, \'\');
$wrapperTpl = $modx->getOption(\'wrapperTpl\', $scriptProperties, \'\');
$limit = $modx->getOption(\'limit\', $scriptProperties, \'0\');
$offset = $modx->getOption(\'offset\', $scriptProperties, 0);
$totalVar = $modx->getOption(\'totalVar\', $scriptProperties, \'total\');
$randomize = $modx->getOption(\'randomize\', $scriptProperties, false);
$preselectLimit = $modx->getOption(\'preselectLimit\', $scriptProperties, 0); // when random preselect important images
$where = $modx->getOption(\'where\', $scriptProperties, \'\');
$where = !empty($where) ? $modx->fromJSON($where) : array();
$sort = $modx->getOption(\'sort\', $scriptProperties, \'\');
$sort = !empty($sort) ? $modx->fromJSON($sort) : array();
$toSeparatePlaceholders = $modx->getOption(\'toSeparatePlaceholders\', $scriptProperties, false);
$toPlaceholder = $modx->getOption(\'toPlaceholder\', $scriptProperties, false);
$outputSeparator = $modx->getOption(\'outputSeparator\', $scriptProperties, \'\');
$splitSeparator = $modx->getOption(\'splitSeparator\', $scriptProperties, \'\');
$placeholdersKeyField = $modx->getOption(\'placeholdersKeyField\', $scriptProperties, \'MIGX_id\');
$toJsonPlaceholder = $modx->getOption(\'toJsonPlaceholder\', $scriptProperties, false);
$jsonVarKey = $modx->getOption(\'jsonVarKey\', $scriptProperties, \'migx_outputvalue\');
$outputvalue = $modx->getOption(\'value\', $scriptProperties, \'\');
$outputvalue = isset($_REQUEST[$jsonVarKey]) ? $_REQUEST[$jsonVarKey] : $outputvalue;
$docidVarKey = $modx->getOption(\'docidVarKey\', $scriptProperties, \'migx_docid\');
$docid = $modx->getOption(\'docid\', $scriptProperties, (isset($modx->resource) ? $modx->resource->get(\'id\') : 1));
$docid = isset($_REQUEST[$docidVarKey]) ? $_REQUEST[$docidVarKey] : $docid;
$processTVs = $modx->getOption(\'processTVs\', $scriptProperties, \'1\');
$reverse = $modx->getOption(\'reverse\', $scriptProperties, \'0\');
$sumFields = $modx->getOption(\'sumFields\', $scriptProperties, \'\');
$sumPrefix = $modx->getOption(\'sumPrefix\', $scriptProperties, \'summary_\');
$addfields = $modx->getOption(\'addfields\', $scriptProperties, \'\');
$addfields = !empty($addfields) ? explode(\',\', $addfields) : null;
//split json into parts
$splits = $modx->fromJson($modx->getOption(\'splits\', $scriptProperties, 0));
$splitTpl = $modx->getOption(\'splitTpl\', $scriptProperties, \'\');
$splitSeparator = $modx->getOption(\'splitSeparator\', $scriptProperties, \'\');
$inheritFrom = $modx->getOption(\'inheritFrom\', $scriptProperties, \'\'); //commaseparated list of resource-ids or/and the keyword \'parents\' where to inherit from
$inheritFrom = !empty($inheritFrom) ? explode(\',\',$inheritFrom) : \'\';

$modx->setPlaceholder(\'docid\', $docid);

$base_path = $modx->getOption(\'base_path\', null, MODX_BASE_PATH);
$base_url = $modx->getOption(\'base_url\', null, MODX_BASE_URL);

$migx = $modx->getService(\'migx\', \'Migx\', $modx->getOption(\'migx.core_path\', null, $modx->getOption(\'core_path\') . \'components/migx/\') . \'model/migx/\', $scriptProperties);
if (!($migx instanceof Migx))
    return \'\';
$migx->working_context = isset($modx->resource) ? $modx->resource->get(\'context_key\') : \'web\';

if (!empty($tvname)) {
    if ($tv = $modx->getObject(\'modTemplateVar\', array(\'name\' => $tvname))) {

        /*
        *   get inputProperties
        */


        $properties = $tv->get(\'input_properties\');
        $properties = isset($properties[\'formtabs\']) ? $properties : $tv->getProperties();

        $migx->config[\'configs\'] = $modx->getOption(\'configs\', $properties, \'\');
        if (!empty($migx->config[\'configs\'])) {
            $migx->loadConfigs();
            // get tabs from file or migx-config-table
            $formtabs = $migx->getTabs();
        }
        if (empty($formtabs) && isset($properties[\'formtabs\'])) {
            //try to get formtabs and its fields from properties
            $formtabs = $modx->fromJSON($properties[\'formtabs\']);
        }

        if (!empty($properties[\'basePath\'])) {
            if ($properties[\'autoResourceFolders\'] == \'true\') {
                $scriptProperties[\'base_path\'] = $base_path . $properties[\'basePath\'] . $docid . \'/\';
                $scriptProperties[\'base_url\'] = $base_url . $properties[\'basePath\'] . $docid . \'/\';
            } else {
                $scriptProperties[\'base_path\'] = $base_path . $properties[\'base_path\'];
                $scriptProperties[\'base_url\'] = $base_url . $properties[\'basePath\'];
            }
        }
        if ($jsonVarKey == \'migx_outputvalue\' && !empty($properties[\'jsonvarkey\'])) {
            $jsonVarKey = $properties[\'jsonvarkey\'];
            $outputvalue = isset($_REQUEST[$jsonVarKey]) ? $_REQUEST[$jsonVarKey] : $outputvalue;
        }
        
        if (empty($outputvalue)){
            $outputvalue = $tv->renderOutput($docid);
            if (empty($outputvalue) && !empty($inheritFrom)){
                foreach ($inheritFrom as $from){
                    if ($from == \'parents\'){
                        $outputvalue = $tv->processInheritBinding(\'\',$docid);
                    }else{
                        $outputvalue = $tv->renderOutput($from);
                    }
                    if (!empty($outputvalue)){
                        break;
                    }                    
                }
            }
        }

       
        /*
        *   get inputTvs 
        */
        $inputTvs = array();
        if (is_array($formtabs)) {

            //multiple different Forms
            // Note: use same field-names and inputTVs in all forms
            $inputTvs = $migx->extractInputTvs($formtabs);
        }
        if ($migx->source = $tv->getSource($migx->working_context, false)){
            $migx->source->initialize();
        }
        
    }


}

if (empty($outputvalue)) {
    return \'\';
}

//echo $outputvalue.\'<br/><br/>\';

$items = $modx->fromJSON($outputvalue);

// where filter
if (is_array($where) && count($where) > 0) {
    $items = $migx->filterItems($where, $items);
}
$modx->setPlaceholder($totalVar, count($items));

if (!empty($reverse)) {
    $items = array_reverse($items);
}

// sort items
if (is_array($sort) && count($sort) > 0) {
    $items = $migx->sortDbResult($items, $sort);
}

$summaries = array();
$output = \'\';
$items = $offset > 0 ? array_slice($items, $offset) : $items;
$count = count($items);

if ($count > 0) {
    $limit = $limit == 0 || $limit > $count ? $count : $limit;
    $preselectLimit = $preselectLimit > $count ? $count : $preselectLimit;
    //preselect important items
    $preitems = array();
    if ($randomize && $preselectLimit > 0) {
        for ($i = 0; $i < $preselectLimit; $i++) {
            $preitems[] = $items[$i];
            unset($items[$i]);
        }
        $limit = $limit - count($preitems);
    }

    //shuffle items
    if ($randomize) {
        shuffle($items);
    }

    //limit items
    $count = count($items);
    $tempitems = array();

    for ($i = 0; $i < $limit; $i++) {
        if ($i >= $count) {
            break;
        }
        $tempitems[] = $items[$i];
    }
    $items = $tempitems;

    //add preselected items and schuffle again
    if ($randomize && $preselectLimit > 0) {
        $items = array_merge($preitems, $items);
        shuffle($items);
    }

    $properties = array();
    foreach ($scriptProperties as $property => $value) {
        $properties[\'property.\' . $property] = $value;
    }

    $idx = 0;
    $output = array();
    $template = array();
    $count = count($items);

    foreach ($items as $key => $item) {
        $formname = isset($item[\'MIGX_formname\']) ? $item[\'MIGX_formname\'] . \'_\' : \'\';
        $fields = array();
        foreach ($item as $field => $value) {
            if (is_array($value)) {
                if (is_array($value[0])) {
                    //nested array - convert to json
                    $value = $modx->toJson($value);
                } else {
                    $value = implode(\'||\', $value); //handle arrays (checkboxes, multiselects)
                }
            }


            $inputTVkey = $formname . $field;

            if ($processTVs && isset($inputTvs[$inputTVkey])) {
                if (isset($inputTvs[$inputTVkey][\'inputTV\']) && $tv = $modx->getObject(\'modTemplateVar\', array(\'name\' => $inputTvs[$inputTVkey][\'inputTV\']))) {

                } else {
                    $tv = $modx->newObject(\'modTemplateVar\');
                    $tv->set(\'type\', $inputTvs[$inputTVkey][\'inputTVtype\']);
                }
                $inputTV = $inputTvs[$inputTVkey];

                $mTypes = $modx->getOption(\'manipulatable_url_tv_output_types\', null, \'image,file\');
                //don\'t manipulate any urls here
                $modx->setOption(\'manipulatable_url_tv_output_types\', \'\');
                $tv->set(\'default_text\', $value);
                $value = $tv->renderOutput($docid);
                //set option back
                $modx->setOption(\'manipulatable_url_tv_output_types\', $mTypes);
                //now manipulate urls
                if ($mediasource = $migx->getFieldSource($inputTV, $tv)) {
                    $mTypes = explode(\',\', $mTypes);
                    if (!empty($value) && in_array($tv->get(\'type\'), $mTypes)) {
                        //$value = $mediasource->prepareOutputUrl($value);
                        $value = str_replace(\'/./\', \'/\', $mediasource->prepareOutputUrl($value));
                    }
                }

            }
            $fields[$field] = $value;

        }

        if (!empty($addfields)) {
            foreach ($addfields as $addfield) {
                $addfield = explode(\':\', $addfield);
                $addname = $addfield[0];
                $adddefault = isset($addfield[1]) ? $addfield[1] : \'\';
                $fields[$addname] = $adddefault;
            }
        }

        if (!empty($sumFields)) {
            $sumFields = is_array($sumFields) ? $sumFields : explode(\',\', $sumFields);
            foreach ($sumFields as $sumField) {
                if (isset($fields[$sumField])) {
                    $summaries[$sumPrefix . $sumField] = $summaries[$sumPrefix . $sumField] + $fields[$sumField];
                    $fields[$sumPrefix . $sumField] = $summaries[$sumPrefix . $sumField];
                }
            }
        }


        if ($toJsonPlaceholder) {
            $output[] = $fields;
        } else {
            $fields[\'_alt\'] = $idx % 2;
            $idx++;
            $fields[\'_first\'] = $idx == 1 ? true : \'\';
            $fields[\'_last\'] = $idx == $limit ? true : \'\';
            $fields[\'idx\'] = $idx;
            $rowtpl = \'\';
            //get changing tpls from field
            if (substr($tpl, 0, 7) == "@FIELD:") {
                $tplField = substr($tpl, 7);
                $rowtpl = $fields[$tplField];
            }

            if ($fields[\'_first\'] && !empty($tplFirst)) {
                $rowtpl = $tplFirst;
            }
            if ($fields[\'_last\'] && empty($rowtpl) && !empty($tplLast)) {
                $rowtpl = $tplLast;
            }
            $tplidx = \'tpl_\' . $idx;
            if (empty($rowtpl) && !empty($$tplidx)) {
                $rowtpl = $$tplidx;
            }
            if ($idx > 1 && empty($rowtpl)) {
                $divisors = $migx->getDivisors($idx);
                if (!empty($divisors)) {
                    foreach ($divisors as $divisor) {
                        $tplnth = \'tpl_n\' . $divisor;
                        if (!empty($$tplnth)) {
                            $rowtpl = $$tplnth;
                            if (!empty($rowtpl)) {
                                break;
                            }
                        }
                    }
                }
            }

            if ($count == 1 && isset($tpl_oneresult)) {
                $rowtpl = $tpl_oneresult;
            }

            $fields = array_merge($fields, $properties);

            if (!empty($rowtpl)) {
                $template = $migx->getTemplate($tpl, $template);
                $fields[\'_tpl\'] = $template[$tpl];
            } else {
                $rowtpl = $tpl;

            }
            $template = $migx->getTemplate($rowtpl, $template);


            if ($template[$rowtpl]) {
                $chunk = $modx->newObject(\'modChunk\');
                $chunk->setCacheable(false);
                $chunk->setContent($template[$rowtpl]);


                if (!empty($placeholdersKeyField) && isset($fields[$placeholdersKeyField])) {
                    $output[$fields[$placeholdersKeyField]] = $chunk->process($fields);
                } else {
                    $output[] = $chunk->process($fields);
                }
            } else {
                if (!empty($placeholdersKeyField)) {
                    $output[$fields[$placeholdersKeyField]] = \'<pre>\' . print_r($fields, 1) . \'</pre>\';
                } else {
                    $output[] = \'<pre>\' . print_r($fields, 1) . \'</pre>\';
                }
            }
        }


    }
}

if (count($summaries) > 0) {
    $modx->toPlaceholders($summaries);
}


if ($toJsonPlaceholder) {
    $modx->setPlaceholder($toJsonPlaceholder, $modx->toJson($output));
    return \'\';
}

if (!empty($toSeparatePlaceholders)) {
    $modx->toPlaceholders($output, $toSeparatePlaceholders);
    return \'\';
}
/*
if (!empty($outerTpl))
$o = parseTpl($outerTpl, array(\'output\'=>implode($outputSeparator, $output)));
else 
*/

if ($count > 0 && $splits > 0) {
    $size = ceil($count / $splits);
    $chunks = array_chunk($output, $size);
    $output = array();
    foreach ($chunks as $chunk) {
        $o = implode($outputSeparator, $chunk);
        $output[] = $modx->getChunk($splitTpl, array(\'output\' => $o));
    }
    $outputSeparator = $splitSeparator;
}

if (is_array($output)) {
    $o = implode($outputSeparator, $output);
} else {
    $o = $output;
}

if (!empty($o) && !empty($wrapperTpl)) {
    $template = $migx->getTemplate($wrapperTpl);
    if ($template[$wrapperTpl]) {
        $chunk = $modx->newObject(\'modChunk\');
        $chunk->setCacheable(false);
        $chunk->setContent($template[$wrapperTpl]);
        $properties[\'output\'] = $o;
        $o = $chunk->process($properties);
    }
}

if (!empty($toPlaceholder)) {
    $modx->setPlaceholder($toPlaceholder, $o);
    return \'\';
}

return $o;',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
        ),
      ),
      'phpthumbof' => 
      array (
        'fields' => 
        array (
          'id' => 28,
          'source' => 0,
          'property_preprocess' => false,
          'name' => 'phpthumbof',
          'description' => 'Identical to pthumb. Retained for backwards compatibility.
Documentation: https://github.com/oo12/phpThumbOf',
          'editor_type' => 0,
          'category' => 3,
          'cache_type' => 0,
          'snippet' => '/**
 * pThumb
 * Copyright 2013-2014 Jason Grant
 *
 * Please see the GitHub page for documentation or to report bugs:
 * https://github.com/oo12/phpThumbOf
 *
 * Forked from phpThumbOf 1.4.0
 * Copyright 2009-2012 by Shaun McCormick <shaun@modx.com>
 *
 * pThumb is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License as published by the Free
 * Software Foundation; either version 2 of the License, or (at your option) any
 * later version.
 *
 * pThumb is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * phpThumbOf; if not, write to the Free Software Foundation, Inc., 59 Temple
 * Place, Suite 330, Boston, MA 02111-1307 USA
 *
 */
/**
 *
 * @var modX $modx
 * @var array $scriptProperties
 * @var string $input
 * @var string|array $options
 *
 */

if (empty($input)) {  // Exit quietly if no file name given
	return;
}

$scriptProperties[\'debug\'] = isset($debug) ? $debug : false;


static $pt_settings = array();

if (empty($pt_settings)) {
	if (!$modx->loadClass(\'phpThumbOf\', MODX_CORE_PATH . \'components/phpthumbof/model/\', true, true)) {
		$modx->log(modX::LOG_LEVEL_ERROR, \'[pThumb] Could not load phpThumbOf class.\');
		return $input;
	}
}

$pThumb = new phpThumbOf($modx, $pt_settings, $scriptProperties);

$result = $pThumb->createThumbnail($input, $options);

if (!empty($toPlaceholder) || $result[\'outputDims\']) {
	if ($result[\'width\'] === \'\' && $result[\'file\'] && $dims = getimagesize($result[\'file\']) ) {
			$result[\'width\'] = $dims[0];
			$result[\'height\'] = $dims[1];
	}
	if (!empty($toPlaceholder)) {
		$modx->setPlaceholders(array(
			$toPlaceholder => $result[\'src\'],
			"$toPlaceholder.width" => $result[\'width\'],
			"$toPlaceholder.height" => $result[\'height\']
		));
		$output = \'\';
	}
	if ($result[\'outputDims\']) {
		$output = "src=\\"{$result[\'src\']}\\"" . ($result[\'width\'] ? " width=\\"{$result[\'width\']}\\" height=\\"{$result[\'height\']}\\"" : \'\');
	}
}
else {
	$output = $result[\'src\'];
}

if ($debug && $result[\'success\']) {  // if debugging is on and createThumbnail was successful, log the debug info
	$pThumb->debugmsg(isset($pThumb->phpThumb->debugmessages) ? \':: Processed ::\' : ":: Loaded from cache: {$result[\'src\']}", true);
}

return $output;',
          'locked' => false,
          'properties' => 
          array (
            'debug' => 
            array (
              'name' => 'debug',
              'desc' => 'prop_pthumb.debug_desc',
              'type' => 'combo-boolean',
              'options' => 
              array (
              ),
              'value' => false,
              'lexicon' => 'phpthumbof:default',
              'area' => '',
              'desc_trans' => 'Write debug messages to the MODX error log.',
              'area_trans' => '',
            ),
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => '',
          'content' => '/**
 * pThumb
 * Copyright 2013-2014 Jason Grant
 *
 * Please see the GitHub page for documentation or to report bugs:
 * https://github.com/oo12/phpThumbOf
 *
 * Forked from phpThumbOf 1.4.0
 * Copyright 2009-2012 by Shaun McCormick <shaun@modx.com>
 *
 * pThumb is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License as published by the Free
 * Software Foundation; either version 2 of the License, or (at your option) any
 * later version.
 *
 * pThumb is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * phpThumbOf; if not, write to the Free Software Foundation, Inc., 59 Temple
 * Place, Suite 330, Boston, MA 02111-1307 USA
 *
 */
/**
 *
 * @var modX $modx
 * @var array $scriptProperties
 * @var string $input
 * @var string|array $options
 *
 */

if (empty($input)) {  // Exit quietly if no file name given
	return;
}

$scriptProperties[\'debug\'] = isset($debug) ? $debug : false;


static $pt_settings = array();

if (empty($pt_settings)) {
	if (!$modx->loadClass(\'phpThumbOf\', MODX_CORE_PATH . \'components/phpthumbof/model/\', true, true)) {
		$modx->log(modX::LOG_LEVEL_ERROR, \'[pThumb] Could not load phpThumbOf class.\');
		return $input;
	}
}

$pThumb = new phpThumbOf($modx, $pt_settings, $scriptProperties);

$result = $pThumb->createThumbnail($input, $options);

if (!empty($toPlaceholder) || $result[\'outputDims\']) {
	if ($result[\'width\'] === \'\' && $result[\'file\'] && $dims = getimagesize($result[\'file\']) ) {
			$result[\'width\'] = $dims[0];
			$result[\'height\'] = $dims[1];
	}
	if (!empty($toPlaceholder)) {
		$modx->setPlaceholders(array(
			$toPlaceholder => $result[\'src\'],
			"$toPlaceholder.width" => $result[\'width\'],
			"$toPlaceholder.height" => $result[\'height\']
		));
		$output = \'\';
	}
	if ($result[\'outputDims\']) {
		$output = "src=\\"{$result[\'src\']}\\"" . ($result[\'width\'] ? " width=\\"{$result[\'width\']}\\" height=\\"{$result[\'height\']}\\"" : \'\');
	}
}
else {
	$output = $result[\'src\'];
}

if ($debug && $result[\'success\']) {  // if debugging is on and createThumbnail was successful, log the debug info
	$pThumb->debugmsg(isset($pThumb->phpThumb->debugmessages) ? \':: Processed ::\' : ":: Loaded from cache: {$result[\'src\']}", true);
}

return $output;',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
        ),
      ),
      'AjaxForm' => 
      array (
        'fields' => 
        array (
          'id' => 40,
          'source' => 1,
          'property_preprocess' => false,
          'name' => 'AjaxForm',
          'description' => '',
          'editor_type' => 0,
          'category' => 7,
          'cache_type' => 0,
          'snippet' => '/** @var array $scriptProperties */
/** @var AjaxForm $AjaxForm */
if (!$modx->loadClass(\'ajaxform\', MODX_CORE_PATH . \'components/ajaxform/model/ajaxform/\', false, true)) {
    return false;
}
$AjaxForm = new AjaxForm($modx, $scriptProperties);

$snippet = $modx->getOption(\'snippet\', $scriptProperties, \'FormIt\', true);
$tpl = $modx->getOption(\'form\', $scriptProperties, \'tpl.AjaxForm.example\', true);
$formSelector = $modx->getOption(\'formSelector\', $scriptProperties, \'ajax_form\', true);
$objectName = $modx->getOption(\'objectName\', $scriptProperties, \'AjaxForm\', true);
$AjaxForm->loadJsCss($objectName);

/** @var pdoTools $pdo */
if (class_exists(\'pdoTools\') && $pdo = $modx->getService(\'pdoTools\')) {
    $content = $pdo->getChunk($tpl, $scriptProperties);
} else {
    $content = $modx->getChunk($tpl, $scriptProperties);
}
if (empty($content)) {
    return $modx->lexicon(\'af_err_chunk_nf\', array(\'name\' => $tpl));
}

// Add selector to tag form
if (preg_match(\'#<form.*?class=(?:"|\\\')(.*?)(?:"|\\\')#i\', $content, $matches)) {
    $classes = explode(\' \', $matches[1]);
    if (!in_array($formSelector, $classes)) {
        $classes[] = $formSelector;
        $classes = preg_replace(
            \'#class=(?:"|\\\')\' . $matches[1] . \'(?:"|\\\')#i\',
            \'class="\' . implode(\' \', $classes) . \'"\',
            $matches[0]
        );
        $content = str_ireplace($matches[0], $classes, $content);
    }
} else {
    $content = str_ireplace(\'<form\', \'<form class="\' . $formSelector . \'"\', $content);
}

// Add method = post
if (preg_match(\'#<form.*?method=(?:"|\\\')(.*?)(?:"|\\\')#i\', $content)) {
    $content = preg_replace(\'#<form(.*?)method=(?:"|\\\')(.*?)(?:"|\\\')#i\', \'<form\\\\1method="post"\', $content);
} else {
    $content = str_ireplace(\'<form\', \'<form method="post"\', $content);
}

// Add action for form processing
$hash = md5(http_build_query($scriptProperties));
$action = \'<input type="hidden" name="af_action" value="\' . $hash . \'" />\';
if ((stripos($content, \'</form>\') !== false)) {
    if (preg_match(\'#<input.*?name=(?:"|\\\')af_action(?:"|\\\').*?>#i\', $content, $matches)) {
        $content = str_ireplace($matches[0], \'\', $content);
    }
    $content = str_ireplace(\'</form>\', "\\n\\t$action\\n</form>", $content);
}

// Save settings to user`s session
$_SESSION[\'AjaxForm\'][$hash] = $scriptProperties;

// Call snippet for preparation of form
$action = !empty($_REQUEST[\'af_action\'])
    ? $_REQUEST[\'af_action\']
    : $hash;

$AjaxForm->process($action, $_REQUEST);

// Return chunk
return $content;',
          'locked' => false,
          'properties' => 
          array (
            'form' => 
            array (
              'name' => 'form',
              'desc' => 'ajaxform_prop_form',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => 'tpl.AjaxForm.example',
              'lexicon' => 'ajaxform:properties',
              'area' => '',
              'desc_trans' => 'Чанк с формой для отправки.',
              'area_trans' => '',
            ),
            'snippet' => 
            array (
              'name' => 'snippet',
              'desc' => 'ajaxform_prop_snippet',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => 'FormIt',
              'lexicon' => 'ajaxform:properties',
              'area' => '',
              'desc_trans' => 'Сниппет, который будет обрабатывать указанную форму.',
              'area_trans' => '',
            ),
            'frontend_css' => 
            array (
              'name' => 'frontend_css',
              'desc' => 'ajaxform_prop_frontend_css',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '[[+assetsUrl]]css/default.css',
              'lexicon' => 'ajaxform:properties',
              'area' => '',
              'desc_trans' => 'Файл с css стилями для подключения на фронтенде.',
              'area_trans' => '',
            ),
            'frontend_js' => 
            array (
              'name' => 'frontend_js',
              'desc' => 'ajaxform_prop_frontend_js',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '[[+assetsUrl]]js/default.js',
              'lexicon' => 'ajaxform:properties',
              'area' => '',
              'desc_trans' => 'Файл с javascript для подключения на фронтенде.',
              'area_trans' => '',
            ),
            'actionUrl' => 
            array (
              'name' => 'actionUrl',
              'desc' => 'ajaxform_prop_actionUrl',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => '[[+assetsUrl]]action.php',
              'lexicon' => 'ajaxform:properties',
              'area' => '',
              'desc_trans' => 'Коннектор для обработки ajax запросов.',
              'area_trans' => '',
            ),
            'formSelector' => 
            array (
              'name' => 'formSelector',
              'desc' => 'ajaxform_prop_formSelector',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => 'ajax_form',
              'lexicon' => 'ajaxform:properties',
              'area' => '',
              'desc_trans' => 'Имя CSS класса, который будеи использован как jQuery селектор для инициализации формы. По умолчанию "ajax_form".',
              'area_trans' => '',
            ),
            'objectName' => 
            array (
              'name' => 'objectName',
              'desc' => 'ajaxform_prop_objectName',
              'type' => 'textfield',
              'options' => 
              array (
              ),
              'value' => 'AjaxForm',
              'lexicon' => 'ajaxform:properties',
              'area' => '',
              'desc_trans' => 'Имя объекта для инициализации в подключаемом javascript. По умолчанию "AjaxForm".',
              'area_trans' => '',
            ),
          ),
          'moduleguid' => '',
          'static' => false,
          'static_file' => 'core/components/ajaxform/elements/snippets/snippet.ajaxform.php',
          'content' => '/** @var array $scriptProperties */
/** @var AjaxForm $AjaxForm */
if (!$modx->loadClass(\'ajaxform\', MODX_CORE_PATH . \'components/ajaxform/model/ajaxform/\', false, true)) {
    return false;
}
$AjaxForm = new AjaxForm($modx, $scriptProperties);

$snippet = $modx->getOption(\'snippet\', $scriptProperties, \'FormIt\', true);
$tpl = $modx->getOption(\'form\', $scriptProperties, \'tpl.AjaxForm.example\', true);
$formSelector = $modx->getOption(\'formSelector\', $scriptProperties, \'ajax_form\', true);
$objectName = $modx->getOption(\'objectName\', $scriptProperties, \'AjaxForm\', true);
$AjaxForm->loadJsCss($objectName);

/** @var pdoTools $pdo */
if (class_exists(\'pdoTools\') && $pdo = $modx->getService(\'pdoTools\')) {
    $content = $pdo->getChunk($tpl, $scriptProperties);
} else {
    $content = $modx->getChunk($tpl, $scriptProperties);
}
if (empty($content)) {
    return $modx->lexicon(\'af_err_chunk_nf\', array(\'name\' => $tpl));
}

// Add selector to tag form
if (preg_match(\'#<form.*?class=(?:"|\\\')(.*?)(?:"|\\\')#i\', $content, $matches)) {
    $classes = explode(\' \', $matches[1]);
    if (!in_array($formSelector, $classes)) {
        $classes[] = $formSelector;
        $classes = preg_replace(
            \'#class=(?:"|\\\')\' . $matches[1] . \'(?:"|\\\')#i\',
            \'class="\' . implode(\' \', $classes) . \'"\',
            $matches[0]
        );
        $content = str_ireplace($matches[0], $classes, $content);
    }
} else {
    $content = str_ireplace(\'<form\', \'<form class="\' . $formSelector . \'"\', $content);
}

// Add method = post
if (preg_match(\'#<form.*?method=(?:"|\\\')(.*?)(?:"|\\\')#i\', $content)) {
    $content = preg_replace(\'#<form(.*?)method=(?:"|\\\')(.*?)(?:"|\\\')#i\', \'<form\\\\1method="post"\', $content);
} else {
    $content = str_ireplace(\'<form\', \'<form method="post"\', $content);
}

// Add action for form processing
$hash = md5(http_build_query($scriptProperties));
$action = \'<input type="hidden" name="af_action" value="\' . $hash . \'" />\';
if ((stripos($content, \'</form>\') !== false)) {
    if (preg_match(\'#<input.*?name=(?:"|\\\')af_action(?:"|\\\').*?>#i\', $content, $matches)) {
        $content = str_ireplace($matches[0], \'\', $content);
    }
    $content = str_ireplace(\'</form>\', "\\n\\t$action\\n</form>", $content);
}

// Save settings to user`s session
$_SESSION[\'AjaxForm\'][$hash] = $scriptProperties;

// Call snippet for preparation of form
$action = !empty($_REQUEST[\'af_action\'])
    ? $_REQUEST[\'af_action\']
    : $hash;

$AjaxForm->process($action, $_REQUEST);

// Return chunk
return $content;',
        ),
        'policies' => 
        array (
          'web' => 
          array (
          ),
        ),
        'source' => 
        array (
          'id' => 1,
          'name' => 'Filesystem',
          'description' => '',
          'class_key' => 'sources.modFileMediaSource',
          'properties' => 
          array (
          ),
          'is_stream' => true,
        ),
      ),
    ),
    'modTemplateVar' => 
    array (
    ),
  ),
);